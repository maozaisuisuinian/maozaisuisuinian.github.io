{"compress":true,"commitItems":[["fa8928eb-6eb9-47ef-85b7-af4176fc88f8",1547565023367,"",[[1547564976757,["whale@Whale",[[1,0,"文件上传\n===\n\n\n\n![1]($res/1.PNG)\n"]],[0,0],[29,29]]],[1547564977804,["whale@Whale",[[1,29,"\n\n"]],[29,29],[30,30]]],[1547564978147,["whale@Whale",[[1,31,"\n"]],[30,30],[31,31]]],[1547564978716,["whale@Whale",[[-1,31,"\n"]],[31,31],[30,30]]],[1547564983931,["whale@Whale",[[1,31,"![2]($res/2.PNG)\n\n"]],[30,30],[48,48]]],[1547564987218,["whale@Whale",[[1,0,"2"]],[0,0],[1,1]]],[1547564988571,["whale@Whale",[[-1,0,"2"]],[1,1],[0,0]]],[1547564990200,["whale@Whale",[[1,0,"webc"]],[0,0],[4,4]]],[1547564990972,["whale@Whale",[[-1,3,"c"]],[4,4],[3,3]]],[1547564994368,["whale@Whale",[[1,3,"常见漏洞--"]],[3,3],[9,9]]],[1547565009956,["whale@Whale",[[1,19,"第一个直接上传，什么都没限制"]],[19,19],[33,33]]],[1547565023174,["whale@Whale",[[1,53,"第二个，传php，会提示n"]],[53,53],[66,66]]],[1547565023959,["whale@Whale",[[1,66,"o p"]],[66,66],[69,69]]],[1547565024535,["whale@Whale",[[-1,68,"p"]],[69,69],[68,68]]],[1547565025428,["whale@Whale",[[1,68,"PHP"]],[68,68],[71,71]]],[1547565026322,["whale@Whale",[[1,72,"\n"]],[71,71],[72,72]]],[1547565035978,["whale@Whale",[[1,72,"传jpg，正常上传"]],[72,72],[81,81]]],[1547565036250,["whale@Whale",[[1,82,"\n"]],[81,81],[82,82]]],[1547565075776,["whale@Whale",[[1,82,"于是burp抓包，先传一个jpg，然后将图片内容全部删除，替换为php一句话。"]],[82,82],[121,121]]],[1547565077563,["whale@Whale",[[1,122,"\n"]],[121,121],[122,122]]],[1547565081307,["whale@Whale",[[-1,122,"\n"]],[122,122],[121,121]]],[1547565081692,["whale@Whale",[[-1,120,"。"]],[121,121],[120,120]]],[1547565081932,["whale@Whale",[[1,120,"；"]],[120,120],[121,121]]],[1547565097253,["whale@Whale",[[1,121,"将后缀添加."]],[121,121],[127,127]]],[1547565098113,["whale@Whale",[[-1,126,"."]],[127,127],[126,126]]],[1547565099100,["whale@Whale",[[1,126,"·"]],[126,126],[127,127]]],[1547565099873,["whale@Whale",[[-1,126,"·"]],[127,127],[126,126]]],[1547565100870,["whale@Whale",[[1,126,"``"]],[126,126],[128,128]]],[1547565105326,["whale@Whale",[[1,127,".php"]],[127,127],[131,131]]],[1547565106735,["whale@Whale",[[1,133,"\n"]],[132,132],[133,133]]],[1547565114644,["whale@Whale",[[1,133,"依然提示no PHP"]],[133,133],[143,143]]],[1547565115194,["whale@Whale",[[1,144,"\n"]],[143,143],[144,144]]],[1547565115633,["whale@Whale",[[1,145,"\n"]],[144,144],[145,145]]],[1547565121715,["whale@Whale",[[1,145,"于是大小写绕过一下啊"]],[145,145],[155,155]]],[1547565121974,["whale@Whale",[[-1,154,"啊"]],[155,155],[154,154]]],[1547565136755,["whale@Whale",[[1,154,"，成功绕过。说明是基于正则表达式的匹配。"]],[154,154],[174,174]]],[1547565143706,["whale@Whale",[[1,53,"\n"]],[52,52],[53,53]]],[1547565144933,["whale@Whale",[[1,53,"---"]],[53,53],[56,56]]],[1547565145266,["whale@Whale",[[1,57,"\n"]],[56,56],[57,57]]],[1547565149306,["whale@Whale",[[1,77,"\n"]],[77,77],[78,78]]],[1547565150689,["whale@Whale",[[1,88,"\n"]],[87,87],[88,88]]],[1547565152202,["whale@Whale",[[1,140,"\n"]],[140,140],[141,141]]],[1547565157370,["whale@Whale",[[1,78,"1. "]],[78,78],[81,81]]],[1547565159832,["whale@Whale",[[1,92,"2. "]],[92,92],[95,95]]],[1547565163399,["whale@Whale",[[1,159,"3. "]],[159,159],[162,162]]],[1547565164938,["whale@Whale",[[1,210,"\n"]],[209,209],[210,210]]],[1547565165903,["whale@Whale",[[-1,210,"\n"],[1,211,"---"]],[210,210],[213,213]]],[1547565166171,["whale@Whale",[[1,213,"\n\n"]],[213,213],[214,214]]],[1547565317120,["whale@Whale",[[1,215,"\n"]],[214,214],[215,215]]],[1547565318359,["whale@Whale",[[1,215,"https://whale3070.github.io/web/2018/11/18/x/"]],[215,215],[260,260]]],[1547565322640,["whale@Whale",[[1,19,"\n"]],[18,18],[19,19]]],[1547565323013,["whale@Whale",[[1,19,"https://whale3070.github.io/web/2018/11/18/x/"]],[19,19],[64,64]]],[1547565326666,["whale@Whale",[[-1,261,"https://whale3070.github.io/web/2018/11/18/x/"]],[261,306],[261,261]]],[1547565334815,["whale@Whale",[[1,19,"# 常见web漏洞-command execution"]],[19,19],[46,46]]],[1547565338344,["whale@Whale",[[-1,19,"# "],[1,21,"【"]],[46,46],[20,20]]],[1547565339296,["whale@Whale",[[-1,19,"【"]],[20,20],[19,19]]],[1547565339970,["whale@Whale",[[1,19,"["]],[19,19],[20,20]]],[1547565343263,["whale@Whale",[[1,45,"]("]],[45,45],[47,47]]],[1547565344825,["whale@Whale",[[1,92,")"]],[92,92],[93,93]]],[1547565345536,["whale@Whale",[[1,94,"\n"]],[93,93],[94,94]]],[1547565348625,["whale@Whale",[[1,19,"ch"]],[19,19],[21,21]]],[1547565349262,["whale@Whale",[[-1,19,"ch"]],[21,21],[19,19]]],[1547565357590,["whale@Whale",[[1,19,"上一篇： "]],[19,19],[24,24]]],[1547565358161,["whale@Whale",[[-1,23," "]],[24,24],[23,23]]]]],["5802a25f-124b-4f3f-acfb-2351bbee04fd",1547603683679,"web常见漏洞--文件上传\n===\n\n上一篇：[常见web漏洞-command execution](https://whale3070.github.io/web/2018/11/18/x/)\n\n第一个直接上传，什么都没限制\n\n![1]($res/1.PNG)\n\n---\n\n第二个，传php，会提示no PHP\n\n1. 传jpg，正常上传\n\n2. 于是burp抓包，先传一个jpg，然后将图片内容全部删除，替换为php一句话；将后缀添加`.php`\n\n依然提示no PHP\n\n3. 于是大小写绕过一下，成功绕过。说明是基于正则表达式的匹配。\n![2]($res/2.PNG)\n\n---\n\n\n",[[1547603648020,["whale@Whale",[[1,115,"\n"]],[113,113],[114,114]]],[1547603649120,["whale@Whale",[[1,116,"\n"]],[114,114],[115,115]]],[1547603655996,["whale@Whale",[[1,115,"![3]($res/3.PNG)\n\n"]],[114,114],[132,132]]],[1547603657977,["whale@Whale",[[-1,134,"\n"]],[134,134],[133,133]]],[1547603658209,["whale@Whale",[[-1,133,"\n"]],[133,133],[132,132]]],[1547623591114,["whale@Whale",[[1,18,"参考资料： https://www.cnblogs.com/milantgh/p/3601724.html"]],[18,18],[71,71]]],[1547623591957,["whale@Whale",[[1,72,"\n"]],[71,71],[72,72]]],[1547623592455,["whale@Whale",[[1,73,"\n"]],[72,72],[73,73]]],[1547623594110,["whale@Whale",[[-1,73,"\n"]],[73,73],[72,72]]]]],["7655395a-0a8f-4d6b-ac80-30074084f71f",1547700192215,"web常见漏洞--文件上传\n===\n参考资料： https://www.cnblogs.com/milantgh/p/3601724.html\n\n上一篇：[常见web漏洞-command execution](https://whale3070.github.io/web/2018/11/18/x/)\n\n第一个直接上传，什么都没限制\n\n![3]($res/3.PNG)\n\n![1]($res/1.PNG)\n\n---\n\n第二个，传php，会提示no PHP\n\n1. 传jpg，正常上传\n\n2. 于是burp抓包，先传一个jpg，然后将图片内容全部删除，替换为php一句话；将后缀添加`.php`\n\n依然提示no PHP\n\n3. 于是大小写绕过一下，成功绕过。说明是基于正则表达式的匹配。\n![2]($res/2.PNG)\n\n---\n\n\n",[[1547700177939,["whale@Whale",[[1,72,"https://www.waitalone.cn/bypassing-the-file-upload-validation.html"]],[72,72],[138,138]]],[1547700179986,["whale@Whale",[[1,139,"\n"]],[138,138],[139,139]]],[1547700183094,["whale@Whale",[[1,140,"\n"]],[139,139],[140,140]]],[1547700183862,["whale@Whale",[[-1,140,"\n"]],[140,140],[139,139]]],[1547700186894,["whale@Whale",[[1,220,"\n"]],[219,219],[220,220]]],[1547700188058,["whale@Whale",[[1,220,"---"]],[220,220],[223,223]]],[1547700189179,["whale@Whale",[[1,224,"\n"]],[223,223],[224,224]]]]],["5d637e99-0261-4ca1-b58c-02a64e1ab2bc",1547906600818,"web常见漏洞--文件上传\n===\n参考资料： https://www.cnblogs.com/milantgh/p/3601724.html\nhttps://www.waitalone.cn/bypassing-the-file-upload-validation.html\n\n上一篇：[常见web漏洞-command execution](https://whale3070.github.io/web/2018/11/18/x/)\n\n---\n\n第一个直接上传，什么都没限制\n\n![3]($res/3.PNG)\n\n![1]($res/1.PNG)\n\n---\n\n第二个，传php，会提示no PHP\n\n1. 传jpg，正常上传\n\n2. 于是burp抓包，先传一个jpg，然后将图片内容全部删除，替换为php一句话；将后缀添加`.php`\n\n依然提示no PHP\n\n3. 于是大小写绕过一下，成功绕过。说明是基于正则表达式的匹配。\n![2]($res/2.PNG)\n\n---\n\n\n",[[1547906561661,["whale@Whale",[[-1,439,"\n"],[1,440,"第三个案例，是真实环境‘"]],[439,439],[451,451]]],[1547906562459,["whale@Whale",[[-1,450,"‘"]],[451,451],[450,450]]],[1547906562912,["whale@Whale",[[1,450,"\n\n"]],[450,450],[451,451]]]]],["7224ff41-9677-4e1b-af5f-6c2e29a099ee",1547950967542,"web常见漏洞--文件上传\n===\n参考资料： https://www.cnblogs.com/milantgh/p/3601724.html\nhttps://www.waitalone.cn/bypassing-the-file-upload-validation.html\n\n上一篇：[常见web漏洞-command execution](https://whale3070.github.io/web/2018/11/18/x/)\n\n---\n\n第一个直接上传，什么都没限制\n\n![3]($res/3.PNG)\n\n![1]($res/1.PNG)\n\n---\n\n第二个，传php，会提示no PHP\n\n1. 传jpg，正常上传\n\n2. 于是burp抓包，先传一个jpg，然后将图片内容全部删除，替换为php一句话；将后缀添加`.php`\n\n依然提示no PHP\n\n3. 于是大小写绕过一下，成功绕过。说明是基于正则表达式的匹配。\n![2]($res/2.PNG)\n\n---\n\n第三个案例，是真实环境\n\n",[[1547950949977,["whale@Whale",[[-1,445,"是"]],[446,446],[445,445]]],[1547950964314,["whale@Whale",[[1,451,"![Screenshot from 2019-01-20 10-09-39]($res/Screenshot%20from%202019-01-20%2010-09-39.png)\n![Screenshot from 2019-01-20 10-13-20]($res/Screenshot%20from%202019-01-20%2010-13-20.png)\n![Screenshot from 2019-01-20 10-14-13]($res/Screenshot%20from%202019-01-20%2010-14-13.png)\n\n"]],[450,450],[724,724]]],[1547950982664,["whale@Whale",[[-1,724,"\n"],[1,725,"z"]],[724,724],[725,725]]],[1547950983729,["whale@Whale",[[-1,724,"z"],[1,725,"\n"]],[725,725],[724,724]]],[1547950988625,["whale@Whale",[[-1,724,"\n"],[1,725,"修改filename，"]],[724,724],[735,735]]],[1547950989333,["whale@Whale",[[-1,734,"，"]],[735,735],[734,734]]],[1547950990052,["whale@Whale",[[1,734,","]],[734,734],[735,735]]],[1547950990541,["whale@Whale",[[-1,734,","]],[735,735],[734,734]]],[1547950992216,["whale@Whale",[[1,734,"，后卫"]],[734,734],[737,737]]],[1547950993077,["whale@Whale",[[-1,734,"，后卫"]],[737,737],[734,734]]],[1547950995208,["whale@Whale",[[1,734,"，ho"]],[734,734],[737,737]]],[1547950995770,["whale@Whale",[[-1,735,"ho"]],[737,737],[735,735]]],[1547951001442,["whale@Whale",[[1,735,"后缀为aspx，"]],[735,735],[743,743]]],[1547951059024,["whale@Whale",[[1,743,"将图片内容替换为脚本"]],[743,743],[753,753]]],[1547951060110,["whale@Whale",[[1,753,"\n\n"]],[753,753],[754,754]]],[1547951060455,["whale@Whale",[[1,755,"\n"]],[754,754],[755,755]]],[1547951060776,["whale@Whale",[[1,755,"/usr/share/webshells/aspx/cmdasp.aspx"]],[755,755],[792,792]]],[1547951063430,["whale@Whale",[[1,755,"\n"]],[754,754],[755,755]]],[1547951070836,["whale@Whale",[[1,755,"脚本地址为："]],[755,755],[761,761]]],[1547951071671,["whale@Whale",[[-1,761,"\n"]],[761,761],[761,761]]],[1547951073627,["whale@Whale",[[1,761,"`"]],[761,761],[762,762]]],[1547951074442,["whale@Whale",[[1,799,"`"]],[799,799],[800,800]]],[1547951075183,["whale@Whale",[[1,801,"\n"]],[800,800],[801,801]]],[1547951077039,["whale@Whale",[[1,802,"\n"]],[801,801],[802,802]]],[1547951183183,["whale@Whale",[[1,803,"![截图1]($res/%E6%88%AA%E5%9B%BE1.PNG)\n\n"]],[802,802],[840,840]]],[1547951184807,["whale@Whale",[[-1,802,"\n"]],[802,802],[801,801]]],[1547951186821,["whale@Whale",[[1,840,"\n"]],[838,838],[839,839]]],[1547951187143,["whale@Whale",[[1,841,"\n"]],[839,839],[840,840]]],[1547951194652,["whale@Whale",[[1,840,"就可以执行cmd命令。"]],[840,840],[851,851]]],[1547951206751,["whale@Whale",[[-1,0,"web常见漏洞--文件上传\n==="]],[0,17],[0,0]]],[1547951207657,["whale@Whale",[[-1,0,"\n"]],[1,1],[0,0]]]]]]}